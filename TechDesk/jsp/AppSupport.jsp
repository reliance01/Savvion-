<%--  This JSP has been generated by using from xsl version 9.0 at Mon May 23 11:08:05 IST 2022 --%>
<!DOCTYPE html>
<html xmlns:sbm="http://www.savvion.com/sbm" xmlns:bizsolo="http://www.savvion.com/sbm/BizSolo" xmlns:jsp="http://java.sun.com/JSP/Page" xmlns:xalan="http://xml.apache.org/xalan" xmlns:fn="http://www.w3.org/2005/02/xpath-functions" xmlns:sfe="http://www.savvion.com/sbm/sfe" xmlns:c="http://java.sun.com/jsp/jstl/core">
<head><META http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge">

<%@ page contentType="text/html; charset=UTF-8" %>
<%@ page import="com.savvion.BizSolo.Server.*,com.savvion.BizSolo.beans.*,com.savvion.sbm.util.DatabaseMapping,java.util.Vector,java.util.Locale" %>
<%@ page import="com.savvion.sbm.bizsolo.util.session.*,java.net.*" %>
<%@ page errorPage="/BizSolo/common/jsp/expcontroller.jsp" %>
<%@ taglib uri="/BizSolo/common/tlds/bizsolo.tld" prefix="bizsolo" %>
<%@ taglib uri="/bpmportal/tld/bpmportal.tld" prefix="sbm" %>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
<%@ taglib uri="http://java.sun.com/jsp/jstl/fmt" prefix="fmt" %>
<%@ taglib prefix="form" tagdir="/WEB-INF/tags/form"%>
<%@ taglib prefix="sfe" uri="http://jmaki/v1.0/jsp" %>
  <jsp:useBean id="bizManage" class="com.savvion.sbm.bizmanage.api.BizManageBean" scope="session"></jsp:useBean>
  <jsp:useBean id="bean" class="com.savvion.BizSolo.beans.Bean" scope="session"></jsp:useBean>
  <jsp:useBean id="factoryBean" class="com.savvion.BizSolo.beans.EPFactoryBean" scope="session"></jsp:useBean>
  <jsp:useBean id="bizSite" class="com.savvion.sbm.bpmportal.bizsite.api.BizSiteBean" scope="session"></jsp:useBean>
<%! String _PageName = "AppSupport"; %>
<%! String __webAppName = "TechDesk"; %>
<% pageContext.setAttribute( "contextPath", request.getContextPath()+"/"); %>
<% pageContext.setAttribute( "maxMultiLineLength", DatabaseMapping.self().getSQLSize(java.lang.String.class));  %>
<%java.util.List<String> priorities = com.savvion.sbm.bpmportal.util.PortalUtil.self().getPriorities();%>
<% pageContext.setAttribute( "_priorities",priorities); %>
<bizsolo:if test='<%=_PageName.equals(request.getParameter("_PageName")) %>'>
    <bizsolo:setDS name="TicketNo,CallLogDate,UserRemark,FirstApproverRemark,ApproverDocument,SecondApproverRemark,VerifierDocument,AppsupportFinalStatus,Quotation,AppSupportDocument,AppSupportRemark,AppSupportPhoneRemark,ApplicationType,IssueRequestId,IssueReqSubTypeID,TicketValue,MiscNo,TotalSumInsured,InsuredName,Occupancy,Occupancy,ImdCodeAndName,AgentCodeAndName,IsGreenChannel,CallCreatedBy,UserEmailID,UserContactNo,Branch,ChannelSM,CallType,ApproverName,Approver2Name,ApproverEmailID,Approver2Email,ApproverDesignation,Approver2Dsgn,ExpectedApproval_1_Dt,ExpectedApproval_2_Dt,ApprovedDateString,ApprovedDateString2,ApproverUserID2,UploadScreen,CallStatus,CallStatusOther,viewLinkAppsupport1,viewLinkApprover1,viewLinkApprover3,isWaiting,DocCount,viewLinkApprover,viewLinkAppsupport3,viewLinkAppsupport4,SupportDocCount,viewLinkApprover4,AppSupportPerformer,viewLinkAppsupport,viewLinkAppsupport2,viewLinkApprover2,ReopenId,supportMgrID,supportMgrMail,supportMgrName,TeamName,AdminTeamMember,AppSupportGroupName,CallSubStatus,modulestatus,L1ID,L2ID,L3ID,L4ID,AdminDocuments,isReassigned,isIndividualUser,isInProgress,L2SystemName,ApproverFinalRemark1"></bizsolo:setDS>
    <bizsolo:choose>
<bizsolo:when test='<%=request.getParameter("bizsite_reassignTask") !=null %>'>
      <bizsolo:initDS name="performer" param="bizsite_assigneeName" hexval="FALSE"></bizsolo:initDS>
      <bizsolo:executeAction epClassName="com.savvion.BizSolo.beans.PAKReassignWI" perfMethod="commit" mode="BizSite" dsi="ReopenId,isWaiting,UploadScreen,ApprovedDateString2,ExpectedApproval_2_Dt,VerifierDocument,Approver2Email,Approver2Dsgn,Approver2Name,ApprovedDateString,ExpectedApproval_1_Dt,ApproverDocument,ApproverEmailID,ApproverDesignation,ApproverName,UserEmailID,UserContactNo,ChannelSM,CallCreatedBy,TicketValue,IssueReqSubTypeID,IssueRequestId,ApplicationType,Branch,CallType,CallLogDate,TicketNo" dso="isInProgress,SecondApproverRemark,isIndividualUser,FirstApproverRemark,isReassigned,UserRemark,L2SystemName,IsGreenChannel,Occupancy,ImdCodeAndName,InsuredName,CallSubStatus,TotalSumInsured,AgentCodeAndName,L4ID,L2ID,L1ID,Quotation,L3ID,AdminDocuments,modulestatus,MiscNo,AppSupportGroupName,AdminTeamMember,supportMgrName,TeamName,supportMgrMail,supportMgrID,viewLinkApprover2,viewLinkAppsupport2,viewLinkAppsupport,AppSupportPerformer,viewLinkApprover4,SupportDocCount,viewLinkAppsupport4,viewLinkAppsupport3,viewLinkApprover,DocCount,viewLinkApprover3,viewLinkApprover1,viewLinkAppsupport1,CallStatusOther,CallStatus,ApproverUserID2,AppSupportPhoneRemark,AppSupportRemark,AppsupportFinalStatus,AppSupportDocument,ApproverFinalRemark1"></bizsolo:executeAction>
</bizsolo:when>
<bizsolo:when test='<%=request.getParameter("bizsite_saveTask") !=null %>'>
      <bizsolo:executeAction epClassName="com.savvion.BizSolo.beans.PAKUpdateDS" perfMethod="commit" mode="BizSite" dsi="isInProgress,SecondApproverRemark,isIndividualUser,FirstApproverRemark,isReassigned,UserRemark,L2SystemName,IsGreenChannel,Occupancy,ImdCodeAndName,InsuredName,CallSubStatus,TotalSumInsured,AgentCodeAndName,L4ID,L2ID,L1ID,Quotation,L3ID,AdminDocuments,modulestatus,MiscNo,AppSupportGroupName,AdminTeamMember,supportMgrName,TeamName,supportMgrMail,supportMgrID,viewLinkApprover2,viewLinkAppsupport2,viewLinkAppsupport,AppSupportPerformer,viewLinkApprover4,SupportDocCount,viewLinkAppsupport4,viewLinkAppsupport3,viewLinkApprover,DocCount,viewLinkApprover3,viewLinkApprover1,viewLinkAppsupport1,CallStatusOther,CallStatus,ApproverUserID2,AppSupportPhoneRemark,AppSupportRemark,AppsupportFinalStatus,AppSupportDocument,ApproverFinalRemark1"></bizsolo:executeAction>
</bizsolo:when>
    <bizsolo:otherwise>
      <bizsolo:executeAction epClassName="com.savvion.BizSolo.beans.PAKSetDS" perfMethod="commit" mode="BizSite" dsi="isInProgress,SecondApproverRemark,isIndividualUser,FirstApproverRemark,isReassigned,UserRemark,L2SystemName,IsGreenChannel,Occupancy,ImdCodeAndName,InsuredName,CallSubStatus,TotalSumInsured,AgentCodeAndName,L4ID,L2ID,L1ID,Quotation,L3ID,AdminDocuments,modulestatus,MiscNo,AppSupportGroupName,AdminTeamMember,supportMgrName,TeamName,supportMgrMail,supportMgrID,viewLinkApprover2,viewLinkAppsupport2,viewLinkAppsupport,AppSupportPerformer,viewLinkApprover4,SupportDocCount,viewLinkAppsupport4,viewLinkAppsupport3,viewLinkApprover,DocCount,viewLinkApprover3,viewLinkApprover1,viewLinkAppsupport1,CallStatusOther,CallStatus,ApproverUserID2,AppSupportPhoneRemark,AppSupportRemark,AppsupportFinalStatus,AppSupportDocument,ApproverFinalRemark1" res=""></bizsolo:executeAction>
      </bizsolo:otherwise>
    </bizsolo:choose>
<% /* Workaround, retAddr will disappear in the future */ %>
<% String retAddr = bean.getPropString("returnPage"); %>
<% if(retAddr != null) { %>
<bizsolo:redirectURL page="<%= retAddr %>"/>
<% } %>
</bizsolo:if>
<bizsolo:if test='<%= ! _PageName.equals(request.getParameter("_PageName")) %>'>
    <bizsolo:initApp mode="BizSite" name="TechDesk"></bizsolo:initApp>
<bizsolo:initDS name="TicketNo" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="CallLogDate" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="UserRemark" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="FirstApproverRemark" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="ApproverDocument" type="DOCUMENT"></bizsolo:initDS>
<bizsolo:initDS name="SecondApproverRemark" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="VerifierDocument" type="DOCUMENT"></bizsolo:initDS>
<bizsolo:initDS name="AppsupportFinalStatus" type="STRING" choices="Select|Resolved|In Progress|Forward to L2|Resend to L1|Forward to L3|Forward to L4|Rejected"></bizsolo:initDS>
<bizsolo:initDS name="Quotation" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="AppSupportDocument" type="DOCUMENT"></bizsolo:initDS>
<bizsolo:initDS name="AppSupportRemark" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="AppSupportPhoneRemark" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="ApplicationType" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="IssueRequestId" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="IssueReqSubTypeID" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="TicketValue" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="MiscNo" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="TotalSumInsured" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="InsuredName" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="Occupancy" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="Occupancy" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="ImdCodeAndName" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="AgentCodeAndName" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="IsGreenChannel" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="CallCreatedBy" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="UserEmailID" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="UserContactNo" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="Branch" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="ChannelSM" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="CallType" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="ApproverName" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="Approver2Name" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="ApproverEmailID" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="Approver2Email" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="ApproverDesignation" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="Approver2Dsgn" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="ExpectedApproval_1_Dt" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="ExpectedApproval_2_Dt" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="ApprovedDateString" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="ApprovedDateString2" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="ApproverUserID2" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="UploadScreen" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="CallStatus" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="CallStatusOther" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="viewLinkAppsupport1" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="viewLinkApprover1" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="viewLinkApprover3" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="isWaiting" type="BOOLEAN"></bizsolo:initDS>
<bizsolo:initDS name="DocCount" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="viewLinkApprover" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="viewLinkAppsupport3" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="viewLinkAppsupport4" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="SupportDocCount" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="viewLinkApprover4" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="AppSupportPerformer" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="viewLinkAppsupport" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="viewLinkAppsupport2" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="viewLinkApprover2" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="ReopenId" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="supportMgrID" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="supportMgrMail" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="supportMgrName" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="TeamName" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="AdminTeamMember" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="AppSupportGroupName" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="CallSubStatus" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="modulestatus" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="L1ID" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="L2ID" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="L3ID" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="L4ID" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="AdminDocuments" type="DOCUMENT"></bizsolo:initDS>
<bizsolo:initDS name="isReassigned" type="BOOLEAN"></bizsolo:initDS>
<bizsolo:initDS name="isIndividualUser" type="BOOLEAN"></bizsolo:initDS>
<bizsolo:initDS name="isInProgress" type="BOOLEAN"></bizsolo:initDS>
<bizsolo:initDS name="L2SystemName" type="STRING"></bizsolo:initDS>
<bizsolo:initDS name="ApproverFinalRemark1" type="STRING"></bizsolo:initDS>
    <bizsolo:executeAction epClassName="com.savvion.BizSolo.beans.PAKGetDS" perfMethod="commit" mode="BizSite" dso="isInProgress,SecondApproverRemark,isIndividualUser,FirstApproverRemark,isReassigned,UserRemark,L2SystemName,IsGreenChannel,Occupancy,ImdCodeAndName,InsuredName,CallSubStatus,TotalSumInsured,AgentCodeAndName,L4ID,L2ID,L1ID,Quotation,L3ID,AdminDocuments,modulestatus,MiscNo,AppSupportGroupName,AdminTeamMember,supportMgrName,TeamName,supportMgrMail,supportMgrID,ReopenId,viewLinkApprover2,viewLinkAppsupport2,viewLinkAppsupport,AppSupportPerformer,viewLinkApprover4,SupportDocCount,viewLinkAppsupport4,viewLinkAppsupport3,viewLinkApprover,DocCount,isWaiting,viewLinkApprover3,viewLinkApprover1,viewLinkAppsupport1,CallStatusOther,CallStatus,UploadScreen,ApproverUserID2,AppSupportPhoneRemark,AppSupportRemark,AppsupportFinalStatus,AppSupportDocument,ApproverFinalRemark1,ApprovedDateString2,ExpectedApproval_2_Dt,VerifierDocument,Approver2Email,Approver2Dsgn,Approver2Name,ApprovedDateString,ExpectedApproval_1_Dt,ApproverDocument,ApproverEmailID,ApproverDesignation,ApproverName,UserEmailID,UserContactNo,ChannelSM,CallCreatedBy,TicketValue,IssueReqSubTypeID,IssueRequestId,ApplicationType,Branch,CallType,CallLogDate,TicketNo"></bizsolo:executeAction>
</bizsolo:if>

<title>AppSupport</title>
<%boolean isStandaloneBS = (bizManage == null || bizManage.getName() == null || "".equals(bizManage.getName()) || bizManage.getLocale() == null);Locale myLocale = (!isStandaloneBS) ? bizManage.getLocale() : request.getLocale();%>
<!-- Javascript -->
<script language="JavaScript"> var getLocalizedString = parent.getLocalizedString; </script>
<form:includes contextPath="${contextPath}"/>
<script language="JavaScript">
     
      var isIFrame = <%= (PublicResources.INTERACTIVE_MODE.equalsIgnoreCase(bean.getPropString(PublicResources.MODE)) || PublicResources.SLAVE_MODE.equalsIgnoreCase(bean.getPropString(PublicResources.MODE))) ? true : false %>;
      

    function getContextPath(){
        return "<%=request.getContextPath()%>";
    }
</script>
<link rel="stylesheet" type="text/css" href="rgic01.css">
<link rel="stylesheet" type="text/css" href="select2.min.css">

<sbm:setLocale value="<%= bizManage.getLocale() %>"></sbm:setLocale>
<% try{ %><sbm:setBundle scope="page" basename="TechDesk/properties/TechDesk"></sbm:setBundle><% } catch(Exception e){}%>
<bizsolo:getApplicationResources baseName="TechDesk/properties/TechDesk"/></head>
<body class="apbody yui-skin-sam" onLoad="setCheckBoxStyleForIE();hideControls();beforeInitControls();initControls();initTabs();sbm.utils.onDOMReady();">
<form method="post" name="form" onsubmit="return sbm.utils.onFormSubmit();">
<div id="northDiv" style="height:0px;display:none;"><bizsolo:xsrf/></div><% /* Workaround, activityName will disappear in the future */ %>
<% String activityName = bean.getPropString("workitemName"); %>
<div id="resultDiv">
<div style='visibility:hidden;display:none' class='vBoxClass' name='errors' id='errors'></div>
<input name="_PageName" type="hidden" value="AppSupport">
<%if(bean.getPropString("workitemName") != null) {%><input name="_WorkitemName" type="hidden" value="<%= URLHexCoder.encode(bean.getPropString("workitemName")) %>"/><input name="_WorkitemId" type="hidden" value="<%= bean.getPropLong("workitemId") %>"/><%}%>
<input name="bizsite_pagetype" type="hidden" value="activity">
<input name="_ProcessTemplateName" type="hidden" value='<%=bean.getPropString("ptName")%>'>
<input name="_yahoo_flow_button" type="hidden" value=''>
<!-- Content --> 

    
<!-- Header -->

                    <bizsolo:choose><bizsolo:when test='<%=bean.getPropString(\"workitemName\") != null %>'><table width="100%" cellspacing="0" cellpadding="0" border="0">
<tr>
<td class="ApSegTblInBg">
<table width="100%" cellpadding="4" align="center" cellspacing="0" border="0">
<tr>

<td class="ApSegTitle" align="center"><bizsolo:choose><bizsolo:when test='<%=bean.getPropString(\"workitemName\") != null %>'><bizsolo:getDS name="workitemName"></bizsolo:getDS></bizsolo:when><bizsolo:otherwise><%=_PageName%></bizsolo:otherwise></bizsolo:choose></td>
</tr>
</table>
<table class="ApSegDataTbl" width="100%" cellspacing="1" cellpadding="4" border="0">
<tr>
<td width="15%" class="ApSegGenLabel"><bizsolo:getLabel type="RESOURCE" name="BIZSITE_INSTRUCTION_LABEL"></bizsolo:getLabel></td><td width="85%" class="ApSegGenData" colspan="5"><sbm:message key="workstep.AppSupport.instruction" escapeLine="true"></sbm:message></td>
</tr>
<tr>
<td width="15%" class="ApSegGenLabel"><bizsolo:getLabel type="RESOURCE" name="BIZSITE_PRIORITY_LABEL"></bizsolo:getLabel></td><td width="15%" class="ApSegGenData"><bizsolo:getDS name="bizsite_priority"></bizsolo:getDS></td>
<td width="15%" class="ApSegGenLabel"><bizsolo:getLabel type="RESOURCE" name="BIZSITE_STARTDATE_LABEL"></bizsolo:getLabel></td><td width="15%" class="ApSegGenData"><bizsolo:getDS name="bizsite_startDate"></bizsolo:getDS></td>
<td width="15%" class="ApSegGenLabel"><bizsolo:getLabel type="RESOURCE" name="BIZSITE_DUEDATE_LABEL"></bizsolo:getLabel></td><td width="15%" class="ApSegGenData"><bizsolo:getDS name="bizsite_dueDate"></bizsolo:getDS></td>
</tr>
</table>
</td>
</tr>
</table></bizsolo:when></bizsolo:choose>

    
      
    
    <% pageContext.setAttribute("isPWRRequired", true, PageContext.PAGE_SCOPE); %>
<!--
<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
-->
<!-- Above 3 lines were commented by Sunil Jangir and new codes placed below this comment line. 10-02-2020-->
<link rel="stylesheet" href="style/jquery-ui.css">
<script src="script/jquery-1.12.4.js"></script>
<script src="script/jquery-ui.js"></script>

<bizsolo:link rel="stylesheet"/>

<link rel="stylesheet" type="text/css" href="<c:out value='${contextPath}'/>ebmsapps/common/css/rgic01.css">

<style>
table
{
    border-collapse: collapse;
}
#occupancyComboBox {
width: 75%;
}
</style>

    <div id="fade"></div> 
    <div id="light">
        <div id='popup' class='popup'>
	  <span class='Msg'>Enter System Name<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;
	  <input type='text' class='inp' id='systemName' name='systemName' />
	  <br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	  <input type='button' class='button' onClick='getSystems();' value='Get System' />
	  </span>
	 </div>
	 <div id='report'></div> 
           <a href="javascript:close();" class="cancel" ></a> 
    </div>

<%
     String piID = activityName.split("#")[1].split("::")[0];
%>
    <br clear="all">
<fieldset class="x-fieldset" id="Ticketdetails" name="Ticketdetails">
      <legend><sbm:message key="AppSupport.fieldset.Ticketdetails.label"></sbm:message></legend>
      <table align="center" cellpadding="1" cellspacing="1" class="ApSegDataTbl" id="table13" width="95%">
        <colgroup span="1">
          <col width="33%" span="1">
          <col width="33%" span="1">
          <col width="34%" span="1">
        </colgroup>
        <tbody>
          <tr>
            <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
              <div align="left" id="">
                <b>Ticket No:</b>
                <sfe:widget name="sbm.textfield" id="textField1" args="{'type':'text', 'size':21, 'maxlength':256, 'readonly':true, 'visible':true, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" />

              </div>
            </td>
            <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
              <div align="left" id="">
                <b>Call Log Date:</b>
                <sfe:widget name="sbm.textfield" id="textField4" args="{'type':'text', 'size':21, 'maxlength':256, 'readonly':true, 'visible':true, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" />

              </div>
            </td>
            <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
              <div align="left" id="">
                <b>Reopen Case: </b>
                <%

String contextPath = request.getContextPath();

if(bean.getPropString("ReopenId") == null || bean.getPropString("ReopenId").length() <  1 ){

%>

&nbsp;Not a Reopen Case





<%

 }else{

%>

<a href="#" class="textfield_reliance_blink" onclick="showDocsWindow();" title="Click on the link to view previous call details">

<img border='0' title='Click to View Previous Call Details' src="<%=contextPath%>/bpmportal/css/theme01/images/Alert.gif"></a>

<%

 }

%>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </fieldset>
    <table align="center" cellpadding="1" cellspacing="1" class="ApSegDataTbl" id="table11" width="95%">
      <colgroup span="1">
        <col width="60%" span="1">
        <col width="40%" span="1">
      </colgroup>
      <tbody>
        <tr>
          <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
            <div align="left" id="">
              <fieldset class="x-fieldset" id="UserRemarkDetails" name="UserRemarkDetails">
                <legend><sbm:message key="AppSupport.fieldset.UserRemarkDetails.label"></sbm:message></legend>
                <table align="center" cellpadding="1" cellspacing="1" class="ApSegDataTbl" id="table5" width="100%">
                  <colgroup span="1">
                    <col width="100%" span="1">
                  </colgroup>
                  <tbody>
                    <tr>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">
                          <b>Remark:</b>
                        </div>
                        <div align="left" id="">
                          <sfe:widget name="sbm.textarea" id="textArea2" args="{'wrap':'Soft', 'rows':4, 'cols':100, 'visible':true, 'readonly':true, 'disabled':false, 'validationType':'none', 'validation':{ 'counterId':'textArea2_counter_span'}, 'toolTip':'Aurea Process textarea widget', 'tabOrder':'0'}" />

                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">Attached File: <% 

try{

String viewLinkAppsupport = "";		
String viewUploaddoc = "";
String viewUploaddoc1 = "";
String viewUploaddoc2 = "";
String viewUploaddoc3 = "";
String viewUploaddoc4 = "";
String viewUploaddoc5 = ""; String doccountStr = "";

if(bean.getPropString("UploadScreen") == null || bean.getPropString("UploadScreen").length() <  1 ) {
	out.println("");

}else{

	String UploaddocLink = bean.getPropString("UploadScreen");
	bean.setPropString("UploadScreenApp",UploaddocLink);
	String UploaddocLink1 = bean.getPropString("UploadScreenApp");
	String Uploaddoc = UploaddocLink1.substring(44);
	out.println("<a href=\""+bean.getPropString("UploadScreenApp")+"\">"+Uploaddoc+"</a>"); 
}

out.println(" | "); 

String viewLinkApprover = bean.getPropString("viewLinkApprover");		
if(viewLinkApprover != null) viewUploaddoc = viewLinkApprover.substring(65);
String viewLinkApprover1 = bean.getPropString("viewLinkApprover1");		

if(viewLinkApprover1 != null) viewUploaddoc1 = viewLinkApprover1.substring(65);

String viewLinkApprover2 = bean.getPropString("viewLinkApprover2");		

if(viewLinkApprover2 != null) viewUploaddoc2 = viewLinkApprover2.substring(65);

String viewLinkApprover3 = bean.getPropString("viewLinkApprover3");		

if(viewLinkApprover3 != null) viewUploaddoc3 = viewLinkApprover3.substring(65);

String viewLinkApprover4 = bean.getPropString("viewLinkApprover4");		

if(viewLinkApprover4 != null) viewUploaddoc4 = viewLinkApprover4.substring(65);

out.println("<a href=\""+bean.getPropString("viewLinkApprover")+"\">"+viewUploaddoc+"</a><a href=\""+bean.getPropString("viewLinkApprover1")+"\">"+viewUploaddoc1+"</a> <a href=\""+bean.getPropString("viewLinkApprover2")+"\">"+viewUploaddoc2+"</a><a href=\""+bean.getPropString("viewLinkApprover3")+"\">"+viewUploaddoc3+"</a><a href=\""+bean.getPropString("viewLinkApprover4")+"\">"+viewUploaddoc4+"</a>"); 

int docSupportcount = 0;



doccountStr = bean.getPropString("SupportDocCount");



if(doccountStr != null){

	docSupportcount = Integer.parseInt(doccountStr);    

}



			

if(bean.getPropString("viewLinkAppsupport") != null) {

	if(bean.getPropString("viewLinkAppsupport").length() > 1) {

	viewLinkAppsupport = bean.getPropString("viewLinkAppsupport");		

		viewUploaddoc = viewLinkAppsupport.substring(65);



		docSupportcount++;



		doccountStr = Integer.toString(docSupportcount);

		bean.setPropString("SupportDocCount",doccountStr);			

	}

}

				



if(bean.getPropString("viewLinkAppsupport") == null && docSupportcount == 0) {



	out.println("");

}else if(docSupportcount == 1){

	/*String viewLinkAppsupport = bean.getPropString("viewLinkAppsupport");		

	viewUploaddoc = viewLinkAppsupport.substring(65);





	if(bean.getPropString("viewLinkAppsupport") == null){

		String viewLinkAppsupport1 = bean.getPropString("viewLinkAppsupport1");



		viewUploaddoc1 = viewLinkAppsupport1.substring(65);							

		out.println("<a href=\""+bean.getPropString("viewLinkAppsupport1")+"\">"+viewUploaddoc1+"</a>"); 

	}else{

		bean.setPropString("viewLinkAppsupport1",viewLinkAppsupport);				

		String viewLinkAppsupport1 = bean.getPropString("viewLinkAppsupport1");



		viewUploaddoc1 = viewLinkAppsupport1.substring(65);

		out.println("<a href=\""+bean.getPropString("viewLinkAppsupport1")+"\">"+viewUploaddoc1+"</a>"); 

	}

}else if(docSupportcount == 2){						

	/*String viewLinkAppsupport = bean.getPropString("viewLinkAppsupport");



	viewUploaddoc = viewLinkAppsupport.substring(65);



	if(bean.getPropString("viewLinkAppsupport") == null){

		String viewLinkAppsupport1 = bean.getPropString("viewLinkAppsupport1");



		viewUploaddoc1 = viewLinkAppsupport1.substring(65);

		String viewLinkAppsupport2 = bean.getPropString("viewLinkAppsupport2");

		viewUploaddoc2 = viewLinkAppsupport2.substring(65);



		out.println("<a href=\""+bean.getPropString("viewLinkAppsupport1")+"\">"+viewUploaddoc1+"</a> <br> <a href=\""+bean.getPropString("viewLinkAppsupport2")+"\">"+viewUploaddoc2+"</a>"); 

	}else{

		bean.setPropString("viewLinkAppsupport2",viewLinkAppsupport);

		String viewLinkAppsupport1 = bean.getPropString("viewLinkAppsupport1");



		viewUploaddoc1 = viewLinkAppsupport1.substring(65);							

		String viewLinkAppsupport2 = bean.getPropString("viewLinkAppsupport2");

		viewUploaddoc2 = viewLinkAppsupport2.substring(65);

		out.println("<a href=\""+bean.getPropString("viewLinkAppsupport1")+"\">"+viewUploaddoc1+"</a> <br> <a href=\""+bean.getPropString("viewLinkAppsupport2")+"\">"+viewUploaddoc2+"</a>");    

	}

}else if(docSupportcount == 3){

	/*String viewLinkAppsupport = bean.getPropString("viewLinkAppsupport");	

	viewUploaddoc = viewLinkAppsupport.substring(65);	*/

	if(bean.getPropString("viewLinkAppsupport") == null){

		String viewLinkAppsupport1 = bean.getPropString("viewLinkAppsupport1");

		viewUploaddoc1 = viewLinkAppsupport1.substring(65);

		String viewLinkAppsupport2 = bean.getPropString("viewLinkAppsupport2");

		viewUploaddoc2 = viewLinkAppsupport2.substring(65);

		String viewLinkAppsupport3 = bean.getPropString("viewLinkAppsupport3");

		viewUploaddoc3 = viewLinkAppsupport3.substring(65);

		out.println("<a href=\""+bean.getPropString("viewLinkAppsupport1")+"\">"+viewUploaddoc1+"</a> <br> <a href=\""+bean.getPropString("viewLinkAppsupport2")+"\">"+viewUploaddoc2+"</a> <br> <a href=\""+bean.getPropString("viewLinkAppsupport3")+"\">"+viewUploaddoc3+"</a>"); 	  

	}else{

		bean.setPropString("viewLinkAppsupport3",viewLinkAppsupport);	

		String viewLinkAppsupport1 = bean.getPropString("viewLinkAppsupport1");

		viewUploaddoc1 = viewLinkAppsupport1.substring(65);

		String viewLinkAppsupport2 = bean.getPropString("viewLinkAppsupport2");

		viewUploaddoc2 = viewLinkAppsupport2.substring(65);

		String viewLinkAppsupport3 = bean.getPropString("viewLinkAppsupport3");

		viewUploaddoc3 = viewLinkAppsupport3.substring(65);

		out.println("<a href=\""+bean.getPropString("viewLinkAppsupport1")+"\">"+viewUploaddoc1+"</a> <br> <a href=\""+bean.getPropString("viewLinkAppsupport2")+"\">"+viewUploaddoc2+"</a> <br> <a href=\""+bean.getPropString("viewLinkAppsupport3")+"\">"+viewUploaddoc3+"</a>"); 		

	}

}else if(docSupportcount == 4){

	/*String viewLinkAppsupport = bean.getPropString("viewLinkAppsupport");	

	viewUploaddoc = viewLinkAppsupport.substring(65);	*/

	if(bean.getPropString("viewLinkAppsupport") == null){

		String viewLinkAppsupport1 = bean.getPropString("viewLinkAppsupport1");

		viewUploaddoc1 = viewLinkAppsupport1.substring(65);

		String viewLinkAppsupport2 = bean.getPropString("viewLinkAppsupport2");

		viewUploaddoc2 = viewLinkAppsupport2.substring(65);

		String viewLinkAppsupport3 = bean.getPropString("viewLinkAppsupport3");

		viewUploaddoc3 = viewLinkAppsupport3.substring(65);

		String viewLinkAppsupport4 = bean.getPropString("viewLinkAppsupport4");

		viewUploaddoc4 = viewLinkAppsupport4.substring(65);

		out.println("<a href=\""+bean.getPropString("viewLinkAppsupport1")+"\">"+viewUploaddoc1+"</a> <br> <a href=\""+bean.getPropString("viewLinkAppsupport2")+"\">"+viewUploaddoc2+"</a> <br> <a href=\""+bean.getPropString("viewLinkAppsupport3")+"\">"+viewUploaddoc3+"</a> <br> <a href=\""+bean.getPropString("viewLinkAppsupport4")+"\">"+viewUploaddoc4+"</a>"); 



	}else {

		bean.setPropString("viewLinkAppsupport4",viewLinkAppsupport);	

		String viewLinkAppsupport1 = bean.getPropString("viewLinkAppsupport1");

		viewUploaddoc1 = viewLinkAppsupport1.substring(65);

		String viewLinkAppsupport2 = bean.getPropString("viewLinkAppsupport2");

		viewUploaddoc2 = viewLinkAppsupport2.substring(65);

		String viewLinkAppsupport3 = bean.getPropString("viewLinkAppsupport3");

		viewUploaddoc3 = viewLinkAppsupport3.substring(65);

		String viewLinkAppsupport4 = bean.getPropString("viewLinkAppsupport4");

		viewUploaddoc4 = viewLinkAppsupport4.substring(65);

		out.println("<a href=\""+bean.getPropString("viewLinkAppsupport1")+"\">"+viewUploaddoc1+"</a> <br> <a href=\""+bean.getPropString("viewLinkAppsupport2")+"\">"+viewUploaddoc2+"</a> <br> <a href=\""+bean.getPropString("viewLinkAppsupport3")+"\">"+viewUploaddoc3+"</a> <br> <a href=\""+bean.getPropString("viewLinkAppsupport4")+"\">"+viewUploaddoc4+"</a>"); 

	}

}else if(docSupportcount == 5){

	if(bean.getPropString("viewLinkAppsupport") == null){

		String viewLinkAppsupport1 = bean.getPropString("viewLinkAppsupport1");

		viewUploaddoc1 = viewLinkAppsupport1.substring(65);

		String viewLinkAppsupport2 = bean.getPropString("viewLinkAppsupport2");

		viewUploaddoc2 = viewLinkAppsupport2.substring(65);

		String viewLinkAppsupport3 = bean.getPropString("viewLinkAppsupport3");

		viewUploaddoc3 = viewLinkAppsupport3.substring(65);

		String viewLinkAppsupport4 = bean.getPropString("viewLinkAppsupport4");

		viewUploaddoc4 = viewLinkAppsupport4.substring(65);

		String viewLinkAppsupport5 = bean.getPropString("viewLinkAppsupport5");

		viewUploaddoc5 = viewLinkAppsupport5.substring(65);

		out.println("<a href=\""+bean.getPropString("viewLinkAppsupport1")+"\">"+viewUploaddoc1+"</a> <br> <a href=\""+bean.getPropString("viewLinkAppsupport2")+"\">"+viewUploaddoc2+"</a> <br> <a href=\""+bean.getPropString("viewLinkAppsupport3")+"\">"+viewUploaddoc3+"</a> <br> <a href=\""+bean.getPropString("viewLinkAppsupport4")+"\">"+viewUploaddoc4+"</a> <br> <a href=\""+bean.getPropString("viewLinkAppsupport5")+"\">"+viewUploaddoc5+"</a>");     	

	}else {

		bean.setPropString("viewLinkAppsupport5",viewLinkAppsupport);	

		String viewLinkAppsupport1 = bean.getPropString("viewLinkAppsupport1");

		viewUploaddoc1 = viewLinkAppsupport1.substring(65);

		String viewLinkAppsupport2 = bean.getPropString("viewLinkAppsupport2");

		viewUploaddoc2 = viewLinkAppsupport2.substring(65);

		String viewLinkAppsupport3 = bean.getPropString("viewLinkAppsupport3");

		viewUploaddoc3 = viewLinkAppsupport3.substring(65);

		String viewLinkAppsupport4 = bean.getPropString("viewLinkAppsupport4");

		viewUploaddoc4 = viewLinkAppsupport4.substring(65);

		String viewLinkAppsupport5 = bean.getPropString("viewLinkAppsupport5");

		viewUploaddoc5 = viewLinkAppsupport5.substring(65);

		out.println("<a href=\""+bean.getPropString("viewLinkAppsupport1")+"\">"+viewUploaddoc1+"</a> <br> <a href=\""+bean.getPropString("viewLinkAppsupport2")+"\">"+viewUploaddoc2+"</a> <br> <a href=\""+bean.getPropString("viewLinkAppsupport3")+"\">"+viewUploaddoc3+"</a> <br> <a href=\""+bean.getPropString("viewLinkAppsupport4")+"\">"+viewUploaddoc4+"</a> <br> <a href=\""+bean.getPropString("viewLinkAppsupport5")+"\">"+viewUploaddoc5+"</a>"); 

	}

}

}

catch(Exception e){



}



%>


                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </fieldset>
            </div>
            <div align="left" id="">
              <fieldset class="x-fieldset" id="FirstApprRemarkDetails" name="FirstApprRemarkDetails">
                <legend><sbm:message key="AppSupport.fieldset.FirstApprRemarkDetails.label"></sbm:message></legend>
                <table align="left" cellpadding="1" cellspacing="1" class="ApSegDataTbl" id="table2" width="100%">
                  <colgroup span="1">
                    <col width="100%" span="1">
                  </colgroup>
                  <tbody>
                    <tr>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">
                          <b>First Approver Remark: </b>
                          <sfe:widget name="sbm.textarea" id="textArea3" args="{'wrap':'Soft', 'rows':4, 'cols':100, 'visible':true, 'readonly':true, 'disabled':false, 'validationType':'none', 'validation':{ 'counterId':'textArea3_counter_span'}, 'toolTip':'Aurea Process textarea widget', 'tabOrder':'0'}" />

                        </div>
                        <div align="left" id="">
                          <b>File Attached by Frst Approver:</b>
                          <div style="display: inline;" id="document3"><bizsolo:getDS type="field" name="ApproverDocument" multiline="false" wsName="AppSupport" appendWith="false" writePerm="false"></bizsolo:getDS></div>


                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </fieldset>
            </div>
            <div align="left" id="">
              <fieldset class="x-fieldset" id="SecondApprRemarkDetails" name="SecondApprRemarkDetails">
                <legend><sbm:message key="AppSupport.fieldset.SecondApprRemarkDetails.label"></sbm:message></legend>
                <table align="left" cellpadding="1" cellspacing="1" class="ApSegDataTbl" id="table3" width="100%">
                  <colgroup span="1">
                    <col width="100%" span="1">
                  </colgroup>
                  <tbody>
                    <tr>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">
                          <b>Second Approver Remark:</b>
                        </div>
                        <div align="left" id="">
                          <sfe:widget name="sbm.textarea" id="textArea4" args="{'wrap':'Soft', 'rows':4, 'cols':100, 'visible':true, 'readonly':true, 'disabled':false, 'validationType':'none', 'validation':{ 'counterId':'textArea4_counter_span'}, 'toolTip':'Aurea Process textarea widget', 'tabOrder':'0'}" />

                        </div>
                        <div align="left" id="">
                          <b>File Attached by 2nd Approver:</b>
                          <div style="display: inline;" id="document2"><bizsolo:getDS type="field" name="VerifierDocument" multiline="false" wsName="AppSupport" appendWith="false" writePerm="false"></bizsolo:getDS></div>


                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </fieldset>
            </div>
            <div align="left" id="">
              <fieldset class="x-fieldset" id="AppSupportActionables" name="AppSupportActionables">
                <legend><sbm:message key="AppSupport.fieldset.AppSupportActionables.label"></sbm:message></legend>
                <table align="left" cellpadding="1" cellspacing="1" class="ApSegDataTbl" id="table33" width="100%">
                  <colgroup span="1">
                    <col width="50%" span="1">
                    <col width="50%" span="1">
                  </colgroup>
                  <tbody>
                    <tr>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">
                          <b>Call Status from Support Team:</b>
                        </div>
                        <div align="left" id="">
                          <% 
java.util.ArrayList callStatusList = new java.util.ArrayList();

String appType1 = bean.getPropString("ApplicationType");
String teamName1 =  bean.getPropString("TeamName");

Connection _connection = null;
CallableStatement _cstmt = null;
ResultSet _rs = null;
try
{
    _connection = getDBConnection();
    _cstmt = _connection.prepareCall("{call PROC_TECHDESK_CLOSER_CATEGORY(?,?,?)}");
    _cstmt.setString(1, appType1.trim());
    _cstmt.setString(2, teamName1.trim());
    _cstmt.registerOutParameter(3, OracleTypes.CURSOR);
    _cstmt.executeUpdate();
    _rs = (ResultSet) _cstmt.getObject(3);
    while(_rs.next())
    {
        callStatusList.add(_rs.getString(1));
    }
} catch (Exception ex) {
    System.out.println("Error while getting Closing category : "+ex.getMessage());
} finally  {
    releaseResouce(_rs, _cstmt, _connection);
}

String status = bean.getPropString("CallStatus");

if(status == null) {
    status = "";
} else { 
    status = bean.getPropString("CallStatus");
}

String otherStatus = bean.getPropString("CallStatusOther");
String selectStatus = "";

if(otherStatus == null) {
   otherStatus = "";
} else { 
  otherStatus = bean.getPropString("CallStatusOther");
}
%>

<select name="appType" id="appType" onchange="showOrHideExtraStatuses();showOrHideOtherStatus();" class="ApInptTxt">

<%

for(int i = 0;i < callStatusList.size(); i++ ) {
    if(callStatusList.get(i).equals("NA")) {
%>
<option value='<%= callStatusList.get(i)%>'  Selected>Select</option>	
<%	
    } else  {		
       if(callStatusList.get(i).equals(status)) {
%>
<option value='<%= callStatusList.get(i)%>' selected> <%= callStatusList.get(i) %> </option>	
<%
      }else{
%>
<option value='<%= callStatusList.get(i)%>'> <%= callStatusList.get(i) %> </option>
<%	
            }
      }
    }
%>
<option value="Other">Other</option>
</select>
                        </div>
                      </td>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">
                          <%@ page import="javax.sql.*,javax.naming.*,java.sql.*" %>
<div id="extraCallStatusDiv" style="display: none">
   <table>
    <tr>
      <td>
        <b id="moduleLabel">Module:&nbsp;&nbsp;</b>
        <b id="taggingLabel">Tagging:&nbsp;&nbsp;</b>
      </td>
    </tr>
    <tr>
       <td id="tD1">
       <select id="moduleDropDown" class="ApInptTxt" onchange="moduleOnChange(this);">
        <option value="NA">Select</option>
        <%
            try {
          databaseConnection = getSBMConnectionDB();
          String sqlQuery = "SELECT DISTINCT CLOSURECATEGORY FROM TECHDESK_CLOSURE_STATUS WHERE APPLICATIONNAME = ?";
          preparedStatement = databaseConnection.prepareStatement(sqlQuery);
          preparedStatement.setString(1, bean.getPropString("ApplicationType"));
          resultSet = preparedStatement.executeQuery();
          while(resultSet.next()) {
              %><option value="<%= resultSet.getString("CLOSURECATEGORY") %>"><%= resultSet.getString("CLOSURECATEGORY") %></option>
              <%
          }
          closeResources();
            } catch (Exception e) {
          System.out.println("Exception on AppSupport jsp while fetching drop down values for module");
          e.printStackTrace();
            }
        %>
          <option value="Other">Other</option>
            </select>
      </td>
    </tr>     
        <tr>
        <td  id="tD2">
          <select id="taggingDropDown" class="ApInptTxt" onchange="taggingOnChange(this);">
            <option value="NA">Select</option>
            <option value="Other">Other</option>
              </select>
        </td>
      </tr>
    </table>
</div>
<br>
<input class="ApInptTxt" style="visibility: visible" type="text" name="appTypebox" id="appTypebox" value='<%=otherStatus%>' size="30">

<%!
    Connection databaseConnection = null;
    PreparedStatement preparedStatement = null;
    ResultSet resultSet = null;
    private Connection getSBMConnectionDB() {
        Connection dbConnection = null;
        try {
            DataSource dataSource = (DataSource) new InitialContext().lookup("jdbc/SBMCommonDB");
            dbConnection = dataSource.getConnection();
        } catch (Exception e) {
            System.out.println("Exception in AppSupport JSP CallStatus From Support Code");
	  e.printStackTrace();
       }
        return dbConnection;
    }

    private void closeResources() {
        try {
            if(resultSet != null) {
                resultSet.close();
            }
            if(preparedStatement != null) {
                preparedStatement.close();
            }
            if(databaseConnection != null) {
                databaseConnection.close();
            }
         } catch (Exception e) {
             System.out.println("Error while closing connections : on AppSupport jsp ");
             e.printStackTrace();
         }
    }
%>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">
                          <b>Change Status:</b>
                        </div>
                        <div align="left" id="">
                          <sfe:widget name="sbm.combobox" id="comboBox1" args="{'size':20, 'readonly':false, 'visible':true, 'disabled':false, 'cascade':false, 'level':0, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" value="[{'selected':true,'value':'Select','label':'Select'},{'selected':false,'value':'Resolved','label':'Resolved'},{'selected':false,'value':'In Progress','label':'In Progress'},{'selected':false,'value':'Forward to L2','label':'Forward to L2'},{'selected':false,'value':'Resend to L1','label':'Resend to L1'},{'selected':false,'value':'Forward to L3','label':'Forward to L3'},{'selected':false,'value':'Forward to L4','label':'Forward to L4'},{'selected':false,'value':'Rejected','label':'Rejected'},{'sdeWidgetKey':''}]" />
<script language="javascript">
<!--
jmaki.subscribe("/sbm/combobox/onChange", function(args){if(args.widgetId=='comboBox1'){comboBox1_onChange(args);}});

-->
</script>
                        </div>
                      </td>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">
                          <font size="2">
                            <div id="ForwardToDiv">

<b id="selectsys">Select System:</b>
<div id="ForwardToDiv1">
 <select id="systemDropDown" class="ApInptTxt" onchange="systemOnChange();">
	<option id="systemDropDown1" value="NA">Select</option>
<%
    try {
	databaseConnection = getSBMConnectionDB();
	String sqlQuery = "SELECT SYSTEM_NAME FROM TECHDESK_L2GROUP order by system_name asc";
	preparedStatement = databaseConnection.prepareStatement(sqlQuery);
	//preparedStatement.setString(1, bean.getPropString("ApplicationType"));
	resultSet = preparedStatement.executeQuery();
	while(resultSet.next()) {
%>
	<option value="<%= resultSet.getString("SYSTEM_NAME") %>"><%= resultSet.getString("SYSTEM_NAME") %></option>
<%
	}
	closeResources();
    } catch (Exception e) {
	System.out.println("Exception:: systemDropDown :: on AppSupport jsp while fetching drop down values for System :: "+e.getMessage());
    }
%>
	<option value="ENTER USER">ENTER USER</option>
</select> 
<br>
</div>
<input type='text' id='system' />
</div>
 <script>
        $(document).ready(function(){
            
            // Initialize select2
            $("#appType").select2();
	    $("#moduleDropDown").select2();
	    $("#taggingDropDown").select2();
            $("#systemDropDown").select2();
        });
        </script>
                          </font>
                        </div>
                        <div align="left" id=""></div>
                      </td>
                    </tr>
                    <tr>
                      <td align="left" class="ApSegDataVal" id="quotationamt" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">
                          <b>Quotation Amount:</b>
                        </div>
                        <div align="left" id="">
                          <sfe:widget name="sbm.textfield" id="textField61" args="{'type':'text', 'size':20, 'maxlength':20, 'readonly':false, 'visible':true, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'Aurea Process textfield widget', 'tabOrder':'0'}" />

                        </div>
                      </td>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">
                          <font size="2">
                            <b>Attach</b>
                          </font>
                          <b> File:</b>
                        </div>
                        <div align="left" id="">
                          <div style="display: inline;" id="document1"><bizsolo:getDS type="field" name="AppSupportDocument" multiline="false" wsName="AppSupport" appendWith="false"></bizsolo:getDS></div>


                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <table align="left" cellpadding="1" cellspacing="1" class="ApSegDataTbl" id="table17" width="100%">
                  <colgroup span="1">
                    <col width="100%" span="1">
                  </colgroup>
                  <tbody>
                    <tr>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">
                          <b>App Support Remark:</b>
                        </div>
                        <div align="left" id="">
                          <sfe:widget name="sbm.textarea" id="textField7" args="{'wrap':'Soft', 'rows':4, 'cols':100, 'visible':true, 'readonly':false, 'disabled':false, 'validationType':'none', 'validation':{ 'counterId':'textField7_counter_span'}, 'toolTip':'', 'tabOrder':'0'}" />

                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <table align="left" cellpadding="1" cellspacing="1" class="ApSegDataTbl" id="phoneRemarkTab" width="100%">
                  <colgroup span="1">
                    <col width="100%" span="1">
                  </colgroup>
                  <tbody>
                    <tr>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">
                          <b>Is Phone Remark Required?:</b>
                          <sfe:widget name="sbm.checkbox" id="checkBox2" args="{'layout':'vertical', 'readonly':false, 'visible':true, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" />
<script language="javascript">
<!--
jmaki.subscribe("/sbm/checkbox/onClick", function(args){if(args.widgetId=='checkBox2'){checkBox2_onClick(args);}});

-->
</script>
                        </div>
                        <div align="left" id="">
                          <sfe:widget name="sbm.textarea" id="textArea1" args="{'wrap':'Soft', 'rows':4, 'cols':90, 'visible':true, 'readonly':false, 'disabled':false, 'validationType':'none', 'validation':{ 'counterId':'textArea1_counter_span'}, 'toolTip':'', 'tabOrder':'0'}" />

                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </fieldset>
            </div>
            <div align="left" id=""></div>
          </td>
          <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
            <div align="left" id="">
              <div id="panel2">
<div id='panel2_body'>
                <table align="left" cellpadding="1" cellspacing="1" class="ApSegDataTbl" id="table14" width="100%">
                  <colgroup span="1">
                    <col width="50%" span="1">
                    <col width="50%" span="1">
                  </colgroup>
                  <tbody>
                    <tr>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">
                          <b>Application Name:</b>
                        </div>
                        <div align="left" id="">
                          <sfe:widget name="sbm.textfield" id="textField16" args="{'type':'text', 'size':21, 'maxlength':256, 'readonly':true, 'visible':true, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" />

                        </div>
                      </td>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">
                          <b>Category:</b>
                        </div>
                        <div align="left" id="">
                          <sfe:widget name="sbm.textfield" id="textField2" args="{'type':'text', 'size':21, 'maxlength':256, 'readonly':true, 'visible':true, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" />

                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">
                          <b>Sub Category:</b>
                        </div>
                        <div align="left" id="">
                          <sfe:widget name="sbm.textfield" id="textField32" args="{'type':'text', 'size':21, 'maxlength':256, 'readonly':true, 'visible':true, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" />

                        </div>
                      </td>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">
                          <b>Ticket Value:</b>
                        </div>
                        <div align="left" id="">
                          <sfe:widget name="sbm.textfield" id="textField47" args="{'type':'text', 'size':21, 'maxlength':256, 'readonly':true, 'visible':true, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" />

                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">
                          <b>Policy/Cover/Proposal/Claim No:</b>
                        </div>
                        <div align="left" id="">
                          <sfe:widget name="sbm.textfield" id="textField64" args="{'type':'text', 'size':20, 'maxlength':50, 'readonly':true, 'visible':true, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'Aurea Process textfield widget', 'tabOrder':'0'}" />

                        </div>
                      </td>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id=""></div>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <table align="left" cellpadding="1" cellspacing="1" class="ApSegDataTbl" id="table15" width="100%">
                  <colgroup span="1">
                    <col width="50%" span="1">
                    <col width="50%" span="1">
                  </colgroup>
                  <tbody>
                    <tr>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">
                          <b>Total Sum Insured:</b>
                        </div>
                        <div align="left" id="">
                          <sfe:widget name="sbm.textfield" id="totalSumInsuredTxtFld" args="{'type':'text', 'size':20, 'maxlength':20, 'readonly':true, 'visible':true, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'Aurea Process textfield widget', 'tabOrder':'0'}" />

                        </div>
                      </td>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">
                          <b>Insured Name:</b>
                        </div>
                        <div align="left" id="">
                          <sfe:widget name="sbm.textfield" id="insuredNameTxtFld" args="{'type':'text', 'size':20, 'maxlength':20, 'readonly':true, 'visible':true, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'Aurea Process textfield widget', 'tabOrder':'0'}" />

                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td align="left" class="ApSegDataVal" colspan="2" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1">
                        <div align="left" id="">
                          <b>Occupancy:</b>
                        </div>
                        <div align="left" id="">
                          <sfe:widget name="sbm.textfield" id="occupancyTxtFld" args="{'type':'text', 'size':20, 'maxlength':20, 'readonly':false, 'visible':false, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'Aurea Process textfield widget', 'tabOrder':'0'}" />

                          <sfe:widget name="sbm.combobox" id="occupancyComboBox" args="{'size':20, 'readonly':false, 'visible':true, 'disabled':false, 'cascade':false, 'level':0, 'validationType':'none', 'validation':{}, 'toolTip':'Aurea Process Combobox widget', 'tabOrder':'0', 'service':'getOccupancy.jsp'}" />

                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">
                          <b>Imd Code:</b>
                        </div>
                        <div align="left" id="">
                          <sfe:widget name="sbm.textfield" id="imdCodeTxtFld" args="{'type':'text', 'size':20, 'maxlength':20, 'readonly':true, 'visible':true, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'Aurea Process textfield widget', 'tabOrder':'0'}" />

                        </div>
                      </td>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">
                          <b>Agent Code:</b>
                        </div>
                        <div align="left" id="">
                          <sfe:widget name="sbm.textfield" id="agenetCodeTxtFld" args="{'type':'text', 'size':20, 'maxlength':20, 'readonly':true, 'visible':true, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'Aurea Process textfield widget', 'tabOrder':'0'}" />

                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td align="left" class="ApSegDataVal" colspan="2" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1">
                        <div align="left" id="">
                          <b>Is Green Channel: </b>
                          <Label class="ApSegDataslotLabel" id="" for=""><bizsolo:value name='IsGreenChannel' valueType='label'/></Label>
      
                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div></div>

            </div>
            <div align="left" id="">
              <div id="panel1">
<div id='panel1_body'>
                <table align="left" cellpadding="1" cellspacing="1" class="ApSegDataTbl" id="table12" width="100%">
                  <colgroup span="1">
                    <col width="50%" span="1">
                    <col width="50%" span="1">
                  </colgroup>
                  <tbody>
                    <tr>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">
                          <b>Call Logged By:</b>
                          <sfe:widget name="sbm.textfield" id="textField5" args="{'type':'text', 'size':21, 'maxlength':100, 'readonly':true, 'visible':true, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" />

                        </div>
                      </td>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">
                          <b>Email ID:</b>
                        </div>
                        <div align="left" id="">
                          <sfe:widget name="sbm.textfield" id="textField11" args="{'type':'text', 'size':21, 'maxlength':2000, 'readonly':true, 'visible':true, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" />

                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">
                          <b>Contact No:</b>
                        </div>
                        <div align="left" id="">
                          <sfe:widget name="sbm.textfield" id="textField10" args="{'type':'text', 'size':21, 'maxlength':2000, 'readonly':true, 'visible':true, 'disabled':false, 'validationType':'currency', 'validation':{'format':'comma_dot', 'validateOn':['blur'], 'isRequired':true, 'useCharacterMasking':false, 'minValue':'-1', 'maxValue':'1000'}, 'requiredValidationMsg':'A value is required for this field', 'textfieldRequiredMsg':'Invalid Entry', 'toolTip':'', 'tabOrder':'0'}" />

                        </div>
                      </td>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">
                          <b>Branch:</b>
                        </div>
                        <div align="left" id="">
                          <sfe:widget name="sbm.textfield" id="textField9" args="{'type':'text', 'size':21, 'maxlength':2000, 'readonly':true, 'visible':true, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" />

                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">
                          <b>Designation:</b>
                        </div>
                        <div align="left" id="">
                          <sfe:widget name="sbm.textfield" id="textField36" args="{'type':'text', 'size':21, 'maxlength':256, 'readonly':true, 'visible':true, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" />

                        </div>
                      </td>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">
                          <b>Call Type:</b>
                        </div>
                        <div align="left" id="">
                          <sfe:widget name="sbm.textfield" id="textField3" args="{'type':'text', 'size':21, 'maxlength':100, 'readonly':true, 'visible':true, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" />

                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id=""></div>
                      </td>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id=""></div>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div></div>

            </div>
            <div align="left" id="">
              <div id="panel3">
<div id='panel3_body'>
                <table align="left" cellpadding="1" cellspacing="1" class="ApSegDataTbl" id="table16" width="100%">
                  <colgroup span="1">
                    <col width="50%" span="1">
                    <col width="50%" span="1">
                  </colgroup>
                  <tbody>
                    <tr>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">
                          <b>1st Approver Name:</b>
                        </div>
                        <div align="left" id="">
                          <sfe:widget name="sbm.textfield" id="textField12" args="{'type':'text', 'size':21, 'maxlength':256, 'readonly':true, 'visible':true, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" />

                        </div>
                      </td>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">
                          <b>2nd Approver Name:</b>
                        </div>
                        <div align="left" id="">
                          <sfe:widget name="sbm.textfield" id="textField46" args="{'type':'text', 'size':21, 'maxlength':256, 'readonly':true, 'visible':true, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" />

                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">
                          <b>1st Approver EMail ID:</b>
                        </div>
                        <div align="left" id="">
                          <sfe:widget name="sbm.textfield" id="textField33" args="{'type':'text', 'size':21, 'maxlength':256, 'readonly':true, 'visible':true, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" />

                        </div>
                      </td>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">
                          <b>2nd Approver EMail ID:</b>
                        </div>
                        <div align="left" id="">
                          <sfe:widget name="sbm.textfield" id="textField38" args="{'type':'text', 'size':21, 'maxlength':256, 'readonly':true, 'visible':true, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" />

                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">
                          <b>1st Approver Designation:</b>
                        </div>
                        <div align="left" id="">
                          <sfe:widget name="sbm.textfield" id="textField13" args="{'type':'text', 'size':21, 'maxlength':256, 'readonly':true, 'visible':true, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" />

                        </div>
                      </td>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">
                          <b>2nd Approver Designation:</b>
                        </div>
                        <div align="left" id="">
                          <sfe:widget name="sbm.textfield" id="textField37" args="{'type':'text', 'size':21, 'maxlength':256, 'readonly':true, 'visible':true, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" />

                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">
                          <b>Expected 1st Approval Date:</b>
                        </div>
                        <div align="left" id="">
                          <sfe:widget name="sbm.textfield" id="textField34" args="{'type':'text', 'size':21, 'maxlength':256, 'readonly':true, 'visible':true, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" />

                        </div>
                      </td>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">
                          <b>Expected 2nd Approval Date:</b>
                        </div>
                        <div align="left" id="">
                          <sfe:widget name="sbm.textfield" id="textField35" args="{'type':'text', 'size':21, 'maxlength':256, 'readonly':true, 'visible':true, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" />

                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">
                          <b>Actual 1st Approval Date:</b>
                        </div>
                        <div align="left" id="">
                          <sfe:widget name="sbm.textfield" id="textField40" args="{'type':'text', 'size':21, 'maxlength':1000, 'readonly':true, 'visible':true, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" />

                        </div>
                      </td>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">
                          <b>Actual 1st Approval Date:</b>
                        </div>
                        <div align="left" id="">
                          <sfe:widget name="sbm.textfield" id="textField41" args="{'type':'text', 'size':21, 'maxlength':256, 'readonly':true, 'visible':true, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" />

                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div></div>

            </div>
            <div align="left" id="">
              <div id="panel4">
<div id='panel4_body'>
                <script language='JavaScript'>
function saveRCA(){
    var ticketNo = document.getElementById('textField1').value;
    var rcaType = null;    
    var genders = document.getElementsByName("group1");
    for(var i = 0; i < genders.length; i++)    {
          if(genders[i].checked == true)           {
           rcaType = genders[i].value;
          }
        }
    var rcaMember = document.getElementById('rcaMembers').value;
    var rcaDate = document.getElementById('depDate_id-inputEl').value;
    var rcaDetails = document.getElementById('rcaDetail').value;
    var currUser =  document.forms[0].CurrentPerformer.value;
    var myMap = new Map();  
    myMap['ticket_no']= ticketNo;
    myMap['rca_type']= rcaType;
    myMap['rca_member']= rcaMember;
    myMap['rca_date']= rcaDate;
    myMap['rca_details']= rcaDetails;
    myMap['createdby']= currUser;
    updateRCA(myMap, updateRCA_callback);          
}
function updateRCA_callback( stringval){
   if(stringval=="FALSE")    {
   return false;
  }  else  {
   alert('RCA Updated Sucessfully');
   return false; 
  } 
}

function rcaCheck(){
    var chk1 = document.form.checkbox3_0.checked;
      if(chk1 == true)       { 
        var rcaType = null;    
        var genders = document.getElementsByName("group1");
        for(var i = 0; i < genders.length; i++)         {
          if(genders[i].checked == true) {
           rcaType = genders[i].value;
          }
        }        
        if(rcaType = null)        {        
           alert('Please select rcaType'); 
           return false;
        }
        var rcaMember = document.getElementById('rcaMembers').value;
        if(rcaMember.trim()=="" || rcaMember==null)       {
           alert('Please input rcaMember'); 
           return false;
        }
        var rcaDate = document.getElementById('depDate_id-inputEl').value;
        if(rcaDate.trim()=="" || rcaDate==null)        {
          alert('Please input RCA Date'); 
           return false;
        }
        var rcaDetails = document.getElementById('rcaDetail').value;
        if(rcaDetails.trim()=="" || rcaDetails==null)        {
           alert('Please input rcaDetails'); 
           return false;
        }
        return true;
     }     else     {
           alert('Please select RCA'); 
           return false;
     }
 return true;
}
</script>
<div id='rcaGrid' style='display:none'>
<%
String teamName2 = bean.getPropString("TeamName");
String appSupportFinalStatus =  bean.getPropString("AppsupportFinalStatus");

if(teamName2 != null && teamName2.trim().length() > 0 
&& (teamName2.trim().equals("IT") || teamName2.trim().equals("IT_RHRS"))
)
{
      boolean bln = true;// isUserL1Member(bizSite.getCurrentUser());
      if(bln)
      {
%>
<script>
document.getElementById('rcaGrid').style.display = 'block';
</script>
<%
}
}

%>
                <br clear="all">
<table align="center" cellpadding="1" cellspacing="1" class="blue_shade_reliance_blue tr td" id="table8" width="95%">
                  <colgroup span="1">
                    <col width="100%" span="1">
                  </colgroup>
                  <tbody>
                    <tr>
                      <td align="center" class="ApSegDataVal" id="" style="text-align:center;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="center" id="">RCA Details Required? <input type="checkbox" id="checkbox3_0" name="checkbox3_0" value="" onchange='checkbox3_onClick()'>
                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
                </div>

<div id='rcaDiv' style='display:none'>
                <br clear="all">
<table align="center" cellpadding="1" cellspacing="1" class="blue_shade_reliance_blue tr td" id="table9" width="95%">
                  <colgroup span="1">
                    <col width="20%" span="1">
                    <col width="50%" span="1">
                  </colgroup>
                  <tbody>
                    <tr>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">RCA Type</div>
                      </td>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">
                          <input type="radio" name="group1" value="Temporary" checked> Temporary<br>
<input type="radio" name="group1" value="Permanent"> Permanent<br>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">RCA Provided By Team Members</div>
                      </td>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">
                          <sfe:widget name="sbm.textarea" id="rcaMembers" args="{'wrap':'Soft', 'rows':3, 'cols':50, 'visible':true, 'readonly':false, 'disabled':false, 'validationType':'none', 'validation':{ 'counterId':'rcaMembers_counter_span'}, 'toolTip':'Aurea Process textarea widget', 'tabOrder':'0'}" />

                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">RCA Deployment Date</div>
                      </td>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">
                          <input type="text" name="selected_date" class='dt' id="depDate_id-inputEl"/>
<script>
  $(function() {
     $( "#depDate_id-inputEl" ).datepicker({
	 dateFormat: 'mm-dd-yy',
            minDate: new Date() 
     });
   });
</script>
<style>
div.ui-datepicker {
  font-size:11px;
  position: absolute; 
  top: 37px; 
  left: 50.6875px; 
  z-index: -1;
  display: block;
}
</style>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">RCA Details</div>
                      </td>
                      <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                        <div align="left" id="">
                          <sfe:widget name="sbm.textarea" id="rcaDetail" args="{'wrap':'Soft', 'rows':5, 'cols':50, 'visible':true, 'readonly':false, 'disabled':false, 'validationType':'none', 'validation':{ 'counterId':'rcaDetail_counter_span'}, 'toolTip':'Aurea Process textarea widget', 'tabOrder':'0'}" />

                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <br clear="all">
	<br clear="all">
    <div align="center"> <span id="submitRCABtn" style="color:white;font-size:13px;background-color:#de8233;">&nbsp;Submit RCA&nbsp;</span></div>

</div>


<script language='JavaScript'>

$('#submitRCABtn').click(function()
{

 var rcaChk =  document.form.checkbox3_0.checked;
   		if(rcaChk==true) {
            console.log('rca validate '+ rcaCheck());
           if(rcaCheck())
           {           
             saveRCA();          
            }
        else
        { 
          alert("Please fill RCA as you have selected to provide RCA");   
          return false;
        }
     }
});
</script>
              </div></div>

            </div>
            <div align="left" id=""></div>
          </td>
        </tr>
      </tbody>
    </table>
    <table align="left" border="2" cellpadding="0" cellspacing="0" class="blue_shade_reliance_blue tr td" id="table3" width="100%">
<tr id="RCAToggle" style="display:none;">
	<td colspan="4"> <u><b><font color="red"> Click here to Display / Hide RCA Details</font></b></u></td>
	<tr>
        <tr class="RCAToggleDetails" style="display:none;">
		<td> <b>RCA Type</b> &nbsp; : &nbsp;<span id="_rcaType"></span> </td>
		<td>  <b>RCA Members</b> &nbsp; : &nbsp;<span id="_rcaMembers"></span> </td>
		<td> <b>RCA Deploy Date</b> &nbsp; : &nbsp; <span id="_rcaDeployDate"></span></td>
		<td>  <b>RCA Submit Date</b> &nbsp; : &nbsp;<span id="_rcaSubmitDate"></span> </td>
	<tr>
        <tr class="RCAToggleDetails" style="display:none;">
                <td> <b>RCA Submit By</b> &nbsp; : &nbsp;<span id="_rcaSubmitBy"></span> </td>
		<td colspan="3"> <b>RCA Details</b>  &nbsp; : &nbsp;<span id="_rcaDetails"></span></td>
	<tr>
</table>
<script language='JavaScript'>
 $("#RCAToggle").click(function(){
        $(".RCAToggleDetails").toggle();
    });

var ticketNo = '<%= bean.getPropString("TicketNo")%>';
pwr.fetchRCAData(ticketNo , RCACallback);
function RCACallback(value) {
if(value != "") {
$("#RCAToggle").show();
var rcaData = value[0];
$("#_rcaType").text(rcaData[0]);
$("#_rcaMembers").text(rcaData[1]);
$("#_rcaDeployDate").text(rcaData[2]);
$("#_rcaDetails").text(rcaData[3]);
$("#_rcaSubmitBy").text(rcaData[4]);
$("#_rcaSubmitDate").text(rcaData[5]);
}
}
</script>
    <br clear="all">
<table align="center" border="2" cellpadding="0" cellspacing="0" class="blue_shade_reliance_blue tr td" id="table4" width="95%">
      <colgroup span="1">
        <col width="20%" span="1">
        <col width="10%" span="1">
        <col span="1">
        <col span="1">
      </colgroup>
      <tbody>
        <tr>
          <td align="left" class="ApSegDataVal" colspan="4" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1">
            <div align="left" id="">
              <font color="#339966">
                <b>AppSupport Details</b>
              </font>
            </div>
          </td>
        </tr>
        <tr>
          <td align="left" class="ApSegDataVal" id="adminDocsLabelDiv" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
            <div align="left" id=""></div>
          </td>
          <td align="left" class="ApSegDataVal" colspan="3" id="adminDocsDiv" style="text-align:left;vertical-align:top" valign="top" rowspan="1">
            <div align="left" id="">
              <div id='pfmrs' style='display:none;'>
              </div>
            </div>
          </td>
        </tr>
        <tr>
          <td align="left" class="(default)" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
            <div align="left" id=""></div>
          </td>
          <td align="left" class="(default)" colspan="3" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1">
            <div align="left" id="">
              <table align="left" cellpadding="0" cellspacing="0" class="ApSegDataTbl" id="table6" width="100%">
                <colgroup span="1">
                  <col width="42%" span="1">
                  <col width="58%" span="1">
                </colgroup>
                <tbody>
                  <tr>
                    <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                      <div align="left" id=""></div>
                    </td>
                    <td align="left" class="(default)" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
                      <div align="left" id=""></div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div align="left" id=""></div>
          </td>
        </tr>
        <tr>
          <td align="left" class="ApSegDataVal" id="quotationAmountLabelDiv" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
            <div align="left" id=""></div>
          </td>
          <td align="left" class="ApSegDataVal" colspan="3" id="quotationAmountDiv" style="text-align:left;vertical-align:top" valign="top" rowspan="1">
            <div align="left" id=""></div>
          </td>
        </tr>
        <tr>
          <td align="left" class="(default)" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
            <div align="left" id="">
              <Label class="" id="" for="textArea1"><sbm:message key="AppSupportPhoneRemark"></sbm:message></Label>
            </div>
          </td>
          <td align="left" class="(default)" colspan="3" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1">
            <div align="left" id=""></div>
          </td>
        </tr>
      </tbody>
    </table>
    <fieldset class="x-fieldset" id="PreviousCallDetails" name="PreviousCallDetails">
      <legend><sbm:message key="AppSupport.fieldset.PreviousCallDetails.label"></sbm:message></legend>
      <table align="center" cellpadding="1" cellspacing="1" class="blue_shade_reliance_blue tr td" id="table10" width="100%">
        <colgroup span="1">
          <col width="100%" span="1">
        </colgroup>
        <tbody>
          <tr>
            <td align="left" class="ApSegDataVal" id="" style="text-align:left;vertical-align:top" valign="top" rowspan="1" colspan="1">
              <div align="left" id="">
                <%
	System.out.println("Current USer: "+bizSite.getCurrentUser());
  if(isUserL1Member(bizSite.getCurrentUser()))  {
%>   
<script>	          
  var obj = document.getElementById("comboBox1");
  obj.remove(4);         
  obj.remove(4);
</script>
	         
<%   
  }  else {
%>
<script>	               
  var obj = document.getElementById("comboBox1");
  //obj.remove(3);
  //obj.remove(4);            
</script>
	        
<%
  }
%>

<%
    if(hideClosureCtgy(bean.getPropString("TeamName"),piID)) {
%>    
       <script>
           var obj = document.getElementById("appType");
           var bln = false;
           var arr = new Array();
           for(var i = 0; i < obj.length; i++) {
	       if(obj.options[i].value == 'Closed By L2' || obj.options[i].value == 'Closed By L3') {
	           bln = true;
	           arr.push(obj.options[i].value);
	       }
	   }
	   if(bln && (arr.length == 2)) {
	       obj.remove(1);
	       obj.remove(1);
	       obj.remove(3);
	       obj.remove(3);
	       obj.remove(3);
	       obj.remove(3);
	       obj.remove(3);
	       obj.remove(3);
	       obj.remove(3);
	       obj.remove(3);
	   }
       </script>
<%
    }
%>

<%!        
        private boolean isUserL1Member(String userName) {
                boolean isL1Member = false;
                String[] grpMemberArr = new com.tdiinc.userManager.JDBCRealm().getGroup("CDITGrp").getMemberNames();
                for(int i = 0; i < grpMemberArr.length; i++) {
                    if(grpMemberArr[i].equals(userName.trim())) {
                        isL1Member = true;
                    }
                }
		System.out.println("isL1Member: "+isL1Member);
                return isL1Member;
        }  

         private boolean hideClosureCtgy(String teamName,String piID) {
             boolean hide = false;
             Connection connection = null;
             PreparedStatement pstmt = null;
             ResultSet rset = null;
             try {
                 if(teamName != null && teamName.trim().length() > 0 && (teamName.trim().equals("IT") || teamName.trim().equals("IT_RHRS")))
                 {
                     String sql = "SELECT COUNT(*) FROM TECHDESK_REASSIGN_DTL WHERE PIID = ?";
                     connection = getDBConnection();
		     pstmt = connection.prepareStatement(sql);
		     pstmt.setLong(1,Long.parseLong(piID.toString()));
		     rset = pstmt.executeQuery();
                     if (rset.next()) {
                         if(rset.getInt(1) > 0) {
                             hide = true;
                         }
                     }
                 }
             } catch(Exception e) {
                 System.out.println("Error making Closure Category hidden.");
             } finally {
                 releaseResouce(rset,pstmt,connection);
             }
             return hide;
         }
%>

<%@ page import="com.savvion.sbm.bizlogic.server.ejb.BLServer" %>
<%@ page import="com.savvion.sbm.bizlogic.util.Session"  %>
<%@ page import="com.savvion.sbm.bizlogic.client.BLClientUtil" %>
<%@ page import="com.savvion.sbm.bizlogic.server.svo.ProcessInstance" %>
<%@ page import="com.savvion.sbm.bizlogic.server.svo.WorkStepInstance" %>
<%@ page import="oracle.jdbc.OracleTypes" %>
         <%
           BLServer blServer = null;
           Session blSession = null;
           Connection connection = null;
           PreparedStatement pstmt = null;
           ResultSet rset = null;
           try {
               blServer = BLClientUtil.getBizLogicServer();
               blSession = blServer.connect("rgicl","rgicl");
               ProcessInstance piObj = blServer.getProcessInstance(blSession,Long.parseLong(piID));
      	     WorkStepInstance wsi = piObj.getWorkStepInstance("AppSupport");
               String query = "SELECT ASSIGNER,ASSIGNEE,STATUS,APPSUPPORTRMK,TO_CHAR(PROCESSTIME,'DD-MON-YYYY HH:MI:SS AM') FROM TECHDESK_REASSIGN_DTL WHERE PIID = ? ORDER BY PROCESSTIME DESC";
               connection = getDBConnection();
               pstmt = connection.prepareStatement(query,ResultSet.TYPE_SCROLL_SENSITIVE,ResultSet.CONCUR_UPDATABLE);
               pstmt.setLong(1,Long.parseLong(piID.toString()));
               rset = pstmt.executeQuery();
                
               if (rset.last()) {
                 int rows = rset.getRow();
                 rset.beforeFirst();
                if(rows > 0)
                {
                %>
                
                <div id='statusData' class='footerDiv'>
		 <div class='header'>Previous Status</div>
		 <div id='history'></div>
               </div>
                
                <script>                            
		
			 var myTable= "<table width='100%' align='center' id='statusTab'>";
			 myTable += "<thead>";
			 myTable += "<tr>";
			 myTable += "<th style='width:300px;' class='fieldName'>ASSIGNER</th>";
			 myTable += "<th style='width:300px;' class='fieldName'>ASSIGNEE GROUP</th>";
			 myTable += "<th style='width:300px;' class='fieldName'>ACTION</th>";		
			 myTable += "<th style='width:300px;' class='fieldName'>APP SUPPORT REMARK</th>";	
			 myTable += "<th style='width:300px;' class='fieldName'>LAST ACTION TIME</th>";
		           myTable += "<th style='width:300px;' class='fieldName'>AGING</th>";
			 myTable += "</tr>";
			 myTable += "</thead>";		
			 myTable += "<tbody>";
		    </script>
                <%
               while(rset.next()) {
                   %>
                       <script>
			         myTable+="<tr>";
                                        myTable+="<td><span class='fieldValue2'><%=getNameOfUser(rset.getString(1))%></span></td>";
			         myTable+="<td><span class='fieldValue2'><%=rset.getString(2)%></span></td>";
			         myTable+="<td><span class='fieldValue'><%=rset.getString(3)%></span></td>";
			         myTable+="<td><span class='fieldValue1'><%=rset.getString(4).replaceAll("(\r\n|\n)", "<br />").replaceAll("\\'","\\'")%></span></td>";
			         myTable+="<td><span class='fieldValue1'><%=rset.getString(5)%></span></td>";
			         myTable+="<td><span class='fieldValue1'><%= getConsumeTime(new java.util.Date(rset.getString(5)).getTime()-wsi.getActivationTime())   %></span></td>";
			         myTable+="</tr>";
                       </script>
                   <%
               }
}
%>
<script>
           myTable += "</tbody></table>";
           document.getElementById('history').innerHTML = myTable;
    </script>
<%
}
           } catch(Exception e) {
               System.out.println("Error : "+e.getMessage());
           } finally {
              if(blServer != null) {
	          blServer.disConnect(blSession);
   	      }
              releaseResouce(rset,pstmt,connection);
           }
    %>
    <%!
             String jndiName = "jdbc/CustomDB";
	   public Connection getDBConnection() {
	      Connection connection = null;
		try {
			connection = ((javax.sql.DataSource) new javax.naming.InitialContext().lookup(jndiName))
					.getConnection();
		} catch (Exception ex) {
			System.out.println("Error Getting DBConnection : "
					+ ex.getMessage());
		}
	       return connection;
	    }
	    
            public String dateFormat(long ms) {
	     String pattern = "dd-MM-yyyy hh:mm:ss aa";
               SimpleDateFormat format = new SimpleDateFormat(pattern);
               return format.format(new java.util.Date(ms));
	 }
  /*  public long getAging(long startDate,long timeDuration)
	  {
	        try {
	 		com.savvion.sbm.calendar.SBMCalendar sbmcal = new com.savvion.sbm.calendar.SBMCalendar("RGICL_CD_CALENDAR");
	 		com.savvion.sbm.calendar.svo.BizCalendar bcal = new com.savvion.sbm.calendar.svo.BizCalendar(startDate, timeDuration);
	 	        //Calendar initDuedate = sbmcal.getDueDate(bcal);
	 	        //return sbmcal.getDuration(bcal);
	 	        return bcal.getDuration();
	 	        //return initDuedate.getTime().getTime();
	 	} catch(Exception e) {
	 	     throw new RuntimeException(e);
	 	}
	 }   */
    public String getNameOfUser(String userName) {
	Connection connection = null;
	CallableStatement cstmt = null;
	ResultSet rset = null;
	String qry = "{?=call getUserName(?)}";
	String name = null;
	try {
		if (userName != null && userName.trim().length() > 0) {
			connection = getDBConnection();
			cstmt = connection.prepareCall(qry);
			cstmt.registerOutParameter(1, OracleTypes.VARCHAR);
			cstmt.setString(2, userName.trim());
			cstmt.execute();
			name = cstmt.getString(1);
		}
	} catch (Exception ex) {

		throw new RuntimeException(ex);
	} finally {
		releaseResouce(rset, cstmt, connection);
	}
	return name;
}
	  public void releaseResouce(ResultSet rset,PreparedStatement pstmt,Connection conn) {
	  	try {
	  	if (rset != null) {
		        rset.close();
	  	}
	  	if (pstmt != null) {
	  		pstmt.close();
	  	}
	  	if (conn != null) {
		        conn.close();
	  	}
	        } catch (Exception ex) {
	  		System.out.println("Error while ReleaseResouce : "
	  				+ ex.getMessage());
	      }
        }
  public String getConsumeTime(long ms)
       {
           int SECOND = 1000;
	   int MINUTE = 60 * SECOND;
	   int HOUR = 60 * MINUTE;
	   int DAY = 24 * HOUR;
	
	
	StringBuffer text = new StringBuffer("");
	if (ms > DAY) {
	  text.append(ms / DAY).append(" days ");
	  ms %= DAY;
	}
	if (ms > HOUR) {
	  text.append(ms / HOUR).append(" hours ");
	  ms %= HOUR;
	}
	if (ms > MINUTE) {
	  text.append(ms / MINUTE).append(" minutes ");
	  ms %= MINUTE;
	}
	/*if (ms > SECOND) {
	  text.append(ms / SECOND).append(" seconds ");
	  ms %= SECOND;
	}
	text.append(ms + " ms");*/
	return text.toString();
	}
   %>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </fieldset>
    <sfe:widget name="sbm.textfield" id="textField39" args="{'type':'text', 'size':4, 'maxlength':256, 'readonly':false, 'visible':false, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" /><script>addHiddenControls("textField39");</script>

    <sfe:widget name="sbm.textfield" id="textField8" args="{'type':'text', 'size':4, 'maxlength':256, 'readonly':true, 'visible':false, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" /><script>addHiddenControls("textField8");</script>

    <sfe:widget name="sbm.textfield" id="textField18" args="{'type':'text', 'size':4, 'maxlength':256, 'readonly':false, 'visible':false, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" /><script>addHiddenControls("textField18");</script>

    <sfe:widget name="sbm.textfield" id="textField19" args="{'type':'text', 'size':5, 'maxlength':256, 'readonly':false, 'visible':false, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" /><script>addHiddenControls("textField19");</script>

    <sfe:widget name="sbm.textfield" id="textField22" args="{'type':'text', 'size':4, 'maxlength':256, 'readonly':false, 'visible':false, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" /><script>addHiddenControls("textField22");</script>

    <sfe:widget name="sbm.textfield" id="textField26" args="{'type':'text', 'size':5, 'maxlength':256, 'readonly':false, 'visible':false, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" /><script>addHiddenControls("textField26");</script>

    <sfe:widget name="sbm.textfield" id="textField28" args="{'type':'text', 'size':4, 'maxlength':256, 'readonly':false, 'visible':false, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" /><script>addHiddenControls("textField28");</script>

    <sfe:widget name="sbm.checkbox" id="checkBox1" args="{'layout':'vertical', 'readonly':true, 'visible':false, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" /><script>addHiddenControls("checkBox1");</script>

    <sfe:widget name="sbm.textfield" id="textField31" args="{'type':'text', 'size':4, 'maxlength':256, 'readonly':false, 'visible':false, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" /><script>addHiddenControls("textField31");</script>

    <sfe:widget name="sbm.textfield" id="textField20" args="{'type':'text', 'size':4, 'maxlength':256, 'readonly':false, 'visible':false, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" /><script>addHiddenControls("textField20");</script>

    <sfe:widget name="sbm.textfield" id="textField24" args="{'type':'text', 'size':4, 'maxlength':256, 'readonly':false, 'visible':false, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" /><script>addHiddenControls("textField24");</script>

    <sfe:widget name="sbm.textfield" id="textField25" args="{'type':'text', 'size':5, 'maxlength':256, 'readonly':false, 'visible':false, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" /><script>addHiddenControls("textField25");</script>

    <sfe:widget name="sbm.textfield" id="textField30" args="{'type':'text', 'size':4, 'maxlength':256, 'readonly':false, 'visible':false, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" /><script>addHiddenControls("textField30");</script>

    <sfe:widget name="sbm.textfield" id="textField29" args="{'type':'text', 'size':5, 'maxlength':256, 'readonly':false, 'visible':false, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" /><script>addHiddenControls("textField29");</script>

    <sfe:widget name="sbm.textfield" id="textField17" args="{'type':'text', 'size':4, 'maxlength':100, 'readonly':false, 'visible':false, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" /><script>addHiddenControls("textField17");</script>

    <sfe:widget name="sbm.textfield" id="textField21" args="{'type':'text', 'size':4, 'maxlength':256, 'readonly':false, 'visible':false, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" /><script>addHiddenControls("textField21");</script>

    <sfe:widget name="sbm.textfield" id="textField23" args="{'type':'text', 'size':4, 'maxlength':256, 'readonly':false, 'visible':false, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" /><script>addHiddenControls("textField23");</script>

    <sfe:widget name="sbm.textfield" id="textField27" args="{'type':'text', 'size':4, 'maxlength':256, 'readonly':false, 'visible':false, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" /><script>addHiddenControls("textField27");</script>

    <sfe:widget name="sbm.textfield" id="textField6" args="{'type':'text', 'size':4, 'maxlength':256, 'readonly':true, 'visible':false, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" /><script>addHiddenControls("textField6");</script>

    <sfe:widget name="sbm.textfield" id="textField42" args="{'type':'text', 'size':4, 'maxlength':256, 'readonly':false, 'visible':false, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" /><script>addHiddenControls("textField42");</script>

    <sfe:widget name="sbm.textfield" id="textField43" args="{'type':'text', 'size':5, 'maxlength':256, 'readonly':false, 'visible':false, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" /><script>addHiddenControls("textField43");</script>

    <sfe:widget name="sbm.textfield" id="textField44" args="{'type':'text', 'size':4, 'maxlength':256, 'readonly':false, 'visible':false, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'', 'tabOrder':'0'}" /><script>addHiddenControls("textField44");</script>

    <%@ page import="com.savvion.sbm.bpmportal.bizsite.api.BizSiteBean" %>
<%@ page import="com.savvion.acl.ACLManager,com.savvion.rcf.*,com.savvion.rcf.bean.*,com.savvion.rcf.util.*" %>
<%@ page import="java.util.*,java.text.*,java.sql.*" %>
<% 

String perfm = bizSite.getCurrentUser();
bean.setPropString("AppSupportPerformer",perfm);
String teamName = bean.getPropString("TeamName"); 

ArrayList supportMgrDtlList = new ArrayList();
supportMgrDtlList = CallDeskReportDAO.getInstance().getSupportEscMgrDetails(teamName);

String mgrId="";
String mgrName="";
String eMailId="";

if(supportMgrDtlList.size()>0){
%>
<%
 mgrId = (String)supportMgrDtlList.get(1);
 mgrName = (String)supportMgrDtlList.get(2);
 eMailId = (String)supportMgrDtlList.get(3);
}
bean.setPropString("supportMgrID", mgrId);
bean.setPropString("supportMgrName", mgrName);
bean.setPropString("supportMgrMail", eMailId);
%>  
<input type="Hidden" name="CurrentPerformer" value="<%=bizSite.getCurrentUser()%>">
<input type="Hidden" name="mgrId" value="<%=mgrId%>">
<input type="Hidden" name="mgrName" value="<%=mgrName%>">
<input type="Hidden" name="eMailId" value="<%=eMailId%>">

<div style='display:none;'>
    </div>

<div id='completeDiv'>
    <br clear="all">
<table align="center" cellpadding="0" cellspacing="0" id="table1" width="95%">
      <colgroup span="1">
        <col width="64%" span="1">
      </colgroup>
      <tbody>
        <tr>
          <td align="center" class="apbuttondarkbg" id="" style="text-align:center;vertical-align:top" valign="top" rowspan="1" colspan="1">
            <div align="center" id="">
              <input class="ApScrnButton" name="bizsite_completeTask" id="button-complete" type="submit" tabindex="0" value="<bizsolo:getLabel name='COMPLETE_LABEL' type='RESOURCE'/>" onClick="return onCompleteAppSpport();clickedButton=this.name;this.onsubmit = new Function('return false');" onMouseOut="this.className='ApScrnButton';" onMouseOver="this.className='ApScrnButtonHover';">

              <input class="ApScrnButton" name="bizsite_saveTask" id="button-save" type="submit" tabindex="0" value="<bizsolo:getLabel name='SAVE_LABEL' type='RESOURCE'/>" onClick="return button_save_onClick();clickedButton=this.name;this.onsubmit = new Function('return false');" onMouseOut="this.className='ApScrnButton';" onMouseOver="this.className='ApScrnButtonHover';">

              <input class="ApScrnButton" name="bizsite_reset" id="button-reset" type="button" tabindex="0" value="<bizsolo:getLabel name='RESET_LABEL' type='RESOURCE'/>" onMouseOut="this.className='ApScrnButton';" onMouseOver="this.className='ApScrnButtonHover';" onClick="sbm.utils.reset();">

              <input class="ApScrnButton" name="Submit1323" id="button-cancel" type="button" tabindex="0" value="<bizsolo:getLabel name='CANCEL_LABEL' type='RESOURCE'/>" onMouseOut="this.className='ApScrnButton';" onMouseOver="this.className='ApScrnButtonHover';" onClick="sbm.utils.cancel();">

            </div>
          </td>
        </tr>
      </tbody>
    </table>
    </div>
<div id='reassignDiv'>
    <br clear="all">
<table align="center" cellpadding="1" cellspacing="1" class="apbuttondarkbg" id="reassignTab" width="95%">
      <colgroup span="1">
        <col width="100%" span="1">
      </colgroup>
      <tbody>
        <tr>
          <td align="center" class="ApSegDataVal" id="" style="text-align:center;vertical-align:top" valign="top" rowspan="1" colspan="1">
            <div align="center" id="">
              <input class="ApScrnButton" name="bizsite_completeTask" id="button01" type="submit" tabindex="0" value="<sbm:message key='AppSupport.button01.label'/>" onClick="return reAssignSupportTask();clickedButton=this.name;this.onsubmit = new Function('return false');" onMouseOut="this.className='ApScrnButton';" onMouseOver="this.className='ApScrnButtonHover';">

            </div>
          </td>
        </tr>
      </tbody>
    </table>
    </div>

<div style='display:none;'>
    <br clear="all">
<input class="ApScrnButton" name="bizsite_saveTask" id="docSave" type="submit" tabindex="0" value="<bizsolo:getLabel name='SAVE_LABEL' type='RESOURCE'/>" onMouseOut="this.className='ApScrnButton';" onMouseOver="this.className='ApScrnButtonHover';" onClick="clickedButton=this.name;this.onsubmit = new Function('return false');">

    <Label class="ApSegDataslotLabel" id="" for="textField56"><sbm:message key="dataslot.AppSupport.TeamName.label"></sbm:message></Label>
    <sfe:widget name="sbm.textfield" id="textField56" args="{'type':'text', 'size':20, 'maxlength':50, 'readonly':false, 'visible':true, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'Aurea Process textfield widget', 'tabOrder':'0'}" />

    <Label class="ApSegDataslotLabel" id="" for="textField57"><sbm:message key="dataslot.AppSupport.AdminTeamMember.label"></sbm:message></Label>
    <sfe:widget name="sbm.textfield" id="textField57" args="{'type':'text', 'size':20, 'maxlength':50, 'readonly':false, 'visible':true, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'Aurea Process textfield widget', 'tabOrder':'0'}" />

    <Label class="ApSegDataslotLabel" id="" for="textField58"><sbm:message key="dataslot.AppSupport.AppSupportGroupName.label"></sbm:message></Label>
    <sfe:widget name="sbm.textfield" id="appSuppGrpTxtfld" args="{'type':'text', 'size':20, 'maxlength':50, 'readonly':false, 'visible':false, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'Aurea Process textfield widget', 'tabOrder':'0'}" />

    <Label class="ApSegDataslotLabel" id="" for="textField59"><sbm:message key="dataslot.AppSupport.CallSubStatus.label"></sbm:message></Label>
    <sfe:widget name="sbm.textfield" id="textField63" args="{'type':'text', 'size':20, 'maxlength':20, 'readonly':false, 'visible':true, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'Aurea Process textfield widget', 'tabOrder':'0'}" />

    <Label class="ApSegDataslotLabel" id="" for="textField59"><sbm:message key="dataslot.AppSupport.modulestatus.label"></sbm:message></Label>
    <sfe:widget name="sbm.textfield" id="moduleStatusTextField" args="{'type':'text', 'size':20, 'maxlength':20, 'readonly':false, 'visible':true, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'Aurea Process textfield widget', 'tabOrder':'0'}" />

    <Label class="ApSegDataslotLabel" id="" for="textField59"><sbm:message key="dataslot.AppSupport.L1ID.label"></sbm:message></Label>
    <sfe:widget name="sbm.textfield" id="textField62" args="{'type':'text', 'size':50, 'maxlength':20, 'readonly':false, 'visible':true, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'Aurea Process textfield widget', 'tabOrder':'0'}" />

    <Label class="ApSegDataslotLabel" id="" for="textField60"><sbm:message key="dataslot.AppSupport.L2ID.label"></sbm:message></Label>
    <sfe:widget name="sbm.textfield" id="textField58" args="{'type':'text', 'size':50, 'maxlength':20, 'readonly':false, 'visible':true, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'Aurea Process textfield widget', 'tabOrder':'0'}" />

    <Label class="ApSegDataslotLabel" id="" for="textField62"><sbm:message key="dataslot.AppSupport.L3ID.label"></sbm:message></Label>
    <sfe:widget name="sbm.textfield" id="textField59" args="{'type':'text', 'size':50, 'maxlength':20, 'readonly':false, 'visible':true, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'Aurea Process textfield widget', 'tabOrder':'0'}" />

    <Label class="ApSegDataslotLabel" id="" for="textField64"><sbm:message key="dataslot.AppSupport.L4ID.label"></sbm:message></Label>
    <sfe:widget name="sbm.textfield" id="textField60" args="{'type':'text', 'size':50, 'maxlength':20, 'readonly':false, 'visible':true, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'Aurea Process textfield widget', 'tabOrder':'0'}" />

    <b>Admin Documents:</b>
    <div style="display: inline;" id="adminDocs"><bizsolo:getDS type="field" name="AdminDocuments" multiline="true" wsName="AppSupport" appendWith="false"></bizsolo:getDS></div>


    <sfe:widget name="sbm.checkbox" id="isReassigned" args="{'layout':'vertical', 'readonly':false, 'visible':true, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'Aurea Process Checkbox widget', 'tabOrder':'0'}" />

    <Label class="ApSegDataslotLabel" id="" for="checkbox3"><sbm:message key="dataslot.AppSupport.isReassigned.label"></sbm:message></Label>
    <sfe:widget name="sbm.checkbox" id="isIndividualUser" args="{'layout':'vertical', 'readonly':false, 'visible':true, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'Aurea Process Checkbox widget', 'tabOrder':'0'}" />

    <Label class="ApSegDataslotLabel" id="" for="checkbox3"><sbm:message key="dataslot.AppSupport.isIndividualUser.label"></sbm:message></Label>
    <sfe:widget name="sbm.checkbox" id="isInProgress" args="{'layout':'vertical', 'readonly':false, 'visible':false, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'Aurea Process Checkbox widget', 'tabOrder':'0'}" />

    <Label class="ApSegDataslotLabel" id="" for="checkbox3"><sbm:message key="dataslot.AppSupport.isInProgress.label"></sbm:message></Label>
    <br clear="all">
<Label class="ApSegDataslotLabel" id="" for="textField65"><sbm:message key="dataslot.AppSupport.L2SystemName.label"></sbm:message></Label>
    <sfe:widget name="sbm.textfield" id="L2SystemName" args="{'type':'text', 'size':20, 'maxlength':20, 'readonly':false, 'visible':true, 'disabled':false, 'validationType':'none', 'validation':{}, 'toolTip':'Aurea Process textfield widget', 'tabOrder':'0'}" />

    <sfe:widget name="sbm.textarea" id="textField15" args="{'wrap':'Soft', 'rows':4, 'cols':100, 'visible':true, 'readonly':false, 'disabled':false, 'validationType':'none', 'validation':{ 'counterId':'textField15_counter_span'}, 'toolTip':'', 'tabOrder':'0'}" />

    <br clear="all">
</div>
    

</div>
<!-- Footer -->

<div id="cmdDiv" style="height:46px;">
<table width="100%" height="100%" cellpadding="0" align="center" cellspacing="0" border="0">
<tr align="center">
<td class="ApButtonDarkBg" width="63%">
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td class="ApBtnSpace">
<bizsolo:isNotSuspended><form:button id="bizsite_completeTask" name="bizsite_completeTask" link="COMPLETE_LABEL" resourceType="RESOURCE"/> </bizsolo:isNotSuspended></td>
<td class="ApBtnSpace">
<form:button id="bizsite_saveTask" name="bizsite_saveTask" link="SAVE_LABEL" resourceType="RESOURCE"/> </td>
<bizsolo:isAssigned></bizsolo:isAssigned><td class="ApBtnSpace">
<form:button id="bizsite_reset" name="bizsite_reset" link="RESET_LABEL" onclick="sbm.utils.reset" resourceType="RESOURCE"/> </td>
<td class="ApBtnSpace">
<form:button id="btn-cancel" name="btn-cancel" link="CANCEL_LABEL" onclick="sbm.utils.cancel" resourceType="RESOURCE"/> </td>
<bizsolo:isAssigned><td class="ApBtnSpace"><input class="ApInptTxt" type="text" name="bizsite_assigneeName" size="20"></td><td class="ApBtnSpace"><a href="javascript://" onClick="setUserControl(document.form.bizsite_assigneeName);searchUser()"><img width="16" height="16" border="0" title="Search" src="<c:out value='${contextPath}'/>bpmportal/css/app<%= bizManage.getTheme() %>/images/icon_edit_user_search_single.gif"></img></a></td><td class="ApBtnSpace"><form:button id="bizsite_reassignTask" name="bizsite_reassignTask" link="REASSIGN_LABEL" resourceType="RESOURCE"/> </td>
</bizsolo:isAssigned></tr>
</table>
</td>
</tr>
</table>
</div>

  
                    <div id="resizablepanel" style="display:none">
                        <div class="hd">Alert Dialog</div>
                        <div class="bd"></div>
                        <div class="ft"></div>
                    </div> 
<div id="southDiv" style="height:0px;display:none;"></div></form>
</body>

<script language="JavaScript">
<!--
function beforeInitControls() {
}
-->
</script>
<script language="JavaScript">
<!--
function userValidationJavascript() {
return true;
}
-->
</script>
<sbm:dataSources appName="TechDesk" appType="bizlogic">
</sbm:dataSources>
<script language="JavaScript">
<!--
function isExtraStatusEnabled() {

  var enabledTeams = ['IT','RPA'];

  var enabledApplications = ['ICM','IRPAS','SmartZone','Genisys Configurator','XPAS','Justicia','CMS','Motor Plus','HCS','Omniscan/Swayam App','Calldesk','SmartZone - CSC','Website','RDocs','Documentum','Efinder','F@B Support','MOM','Motor Quote Approval','Online - IMD / MOSS Portal','Renewal Notice','SAP'];

    if(($.inArray('<%= bean.getPropString("TeamName") %>',enabledTeams) > -1) && ($.inArray('<%= bean.getPropString("ApplicationType") %>',enabledApplications) > -1)) {

        return true;

    } else {

        return false;

    }

}



function enableOrDisableExtraStatus(){

    if(isExtraStatusEnabled()) {

        $('#moduleDropDown').val('NA');

        $('#taggingDropDown').val('NA');

        $('#extraCallStatusDiv').css("display", "inline-block");

    }

}

enableOrDisableExtraStatus();



function showOrHideOtherStatus() {

    if($('#appType').val() == 'Other' || $('#moduleDropDown').val() == 'Other' || $('#taggingDropDown').val() == 'Other') {

        $('#appTypebox').css("visibility", "visible");

    } else {

    	//$('#appTypebox').hide();
        $('#appTypebox').css("visibility", "visible");

        //$('#appTypebox').val('');

    }

}



function showOrHideTaggingDropDown() {

    if($('#moduleDropDown').val() == 'NA' || $('#moduleDropDown').val() == 'Other') {

        $('#taggingLabel').hide();

        $('#taggingDropDown').hide();

        $('#taggingDropDown').val('NA');

    } else {

        $('#taggingDropDown').empty(); 

        $('#taggingDropDown').append($('<option></option>').attr("value", 'NA').text('Select'));  

        if(isExtraStatusEnabled()) {

            pwr.getAppSupportSubStatus($('#moduleDropDown').val(),'<%= bean.getPropString("ApplicationType") %>',function (dropDownValues) {

                $.each(dropDownValues, function(dropDownValue) {

                    $('#taggingDropDown').append($('<option></option>').attr("value", dropDownValues[dropDownValue]).text(dropDownValues[dropDownValue]));

                });

                $('#taggingDropDown').append($('<option></option>').attr("value", 'Other').text('Other'));

                $('#taggingDropDown').val('NA');

            });

        }

        $('#taggingLabel').show();

        $('#taggingDropDown').show();

    }

}



function showOrHideExtraStatuses() {

    if(isExtraStatusEnabled()) {

        if($('#appType').val() == 'Other') {

            $('#moduleDropDown').val('NA');

            showOrHideTaggingDropDown();

            $('#extraCallStatusDiv').hide();
           

        } else {

            $('#extraCallStatusDiv').show();
           
        }

    }

}



function moduleOnChange(data) {

    showOrHideTaggingDropDown();

    showOrHideOtherStatus();

    document.getElementById('moduleStatusTextField').value = data.value;
}
    

function taggingOnChange(data1) {

    showOrHideOtherStatus();
    document.getElementById('textField63').value = data1.value;
}



function checkbox3_onClick()

{

var chk1 = document.form.checkbox3_0.checked;

var x = document.getElementById('rcaDiv');

if(chk1 == true) 

{                   

      x.style.display = 'block';

}

else

{

    x.style.display = 'none';

};

return true;

}





function makereadonly() {
	if('<%= bean.getPropString("ApplicationType") %>' !== 'Commercial Quote Request' && '<%= bean.getPropString("ApplicationType") %>' !== 'Admin') {
		Bm.util.disable('occupancyComboBox');
		document.getElementById('textField61').style.display = 'none';
		document.getElementById('quotationamt').style.display = 'none';  
	}
	
if('<%= bean.getPropString("ApplicationType") %>' === 'Application Downtime' 
    && '<%= bean.getPropString("IssueRequestId") %>' === 'Request for Application Downtime'
    && ('<%=  bean.getPropString("AppsupportFinalStatus") %>' === 'Forward to L2' || '<%=  bean.getPropString("AppsupportFinalStatus") %>' === 'Forward to L3')) {
    document.getElementById("checkbox3_0").checked = true;
    document.getElementById("checkbox3_0").disabled = true;
    checkbox3_onClick();
}
    var callType = sbm.util.getValue('textField3');
    document.getElementById('table4').style.display = 'none';
    if (callType == 'Issue') {

        document.getElementById('panel3').style.display = 'none';
         document.getElementById('FirstApprRemarkDetails').style.display = 'none';
         document.getElementById('SecondApprRemarkDetails').style.display = 'none';
        
    }
    var teamName = sbm.util.getValue('textField56');
    if (teamName.substring(0,12) == 'TECHDESK_ZAM') {
     //   document.getElementById('commonDocsLabelDiv').style.display = 'none';
     //   document.getElementById('commonDocsDiv').style.display = 'none';

       pwr.getReassignPerformer(teamName, function (reassignPerformerDetails) {
  
            sbm.util.setValue('textField58', reassignPerformerDetails.l2PerformerEmail);
            sbm.util.setValue('textField59', reassignPerformerDetails.l3PerformerEmail);
            sbm.util.setValue('textField60', reassignPerformerDetails.l4PerformerEmail);
        });
    } else {
        document.getElementById('quotationAmountLabelDiv').style.display = 'none';
        document.getElementById('quotationAmountDiv').style.display = 'none';
        document.getElementById('adminDocsLabelDiv').style.display = 'none';
        document.getElementById('adminDocsDiv').style.display = 'none';
    }

  //document.forms[0].textField14.readOnly=true;

  var tbl = document.getElementsByTagName("table")[0];

  if(tbl) tbl.parentNode.removeChild(tbl); 

  document.getElementById("cmdDiv").style.display = "none";

  

  document.forms[0].textField15.readOnly=true;

   var phRemark = '<%= (" "+bean.getPropString("AppSupportPhoneRemark")).trim() %>';

   

  if(phRemark != '<NULL>' && phRemark != null && phRemark != 'null')

  {

      sbm.util.show('textArea1');

      document.form.checkBox2.checked=true;	

  }

  else

  {

      sbm.util.hide('textArea1');

  }

  document.getElementById('system').value = '';

  var obj = document.getElementById('comboBox1');

  var val = obj.options[obj.selectedIndex].value;

  if(val.trim() == 'Forward to L2' || val.trim() == 'Resend to L1' || val.trim() == 'Forward to L3')

  {

      document.getElementById('pfmrs').style.display = 'block';

      document.getElementById('completeDiv').style.display = 'none';
      
      document.getElementById('reassignDiv').style.display = 'block';
      
       document.getElementById('system').style.display = 'block';
       
        document.getElementById('panel4').style.display = 'block';
        
        document.getElementById('PreviousCallDetails').style.display = 'block';
        
          document.getElementById('ForwardToDiv').style.display = 'block';
       

  }

  else

  {

      document.getElementById('pfmrs').style.display = 'none';

      document.getElementById('completeDiv').style.display = 'block';
      
        document.getElementById('reassignDiv').style.display = 'none';
        
        document.getElementById('system').style.display = 'none';
        
         document.getElementById('PreviousCallDetails').style.display = 'none';
        
         document.getElementById('panel4').style.display = 'none';
         
         document.getElementById('ForwardToDiv').style.display = 'none';

  }
  
  var secondapproverremark = document.getElementById('textArea4').value;
  if(secondapproverremark == 'null' && secondapproverremark == ''){
  document.getElementById('SecondApprRemarkDetails').style.display = 'none';
  }

}

function onCompleteAppSpport() {
if('<%= bean.getPropString("ApplicationType") %>' === 'Application Downtime' 
    && '<%= bean.getPropString("IssueRequestId") %>' === 'Request for Application Downtime'
    && ('<%=  bean.getPropString("AppsupportFinalStatus") %>' === 'Forward to L2' || '<%=  bean.getPropString("AppsupportFinalStatus") %>' === 'Forward to L3')) {
    if(rcaCheck()){           
        saveRCA();          
    } else { 
        alert("Please fill RCA");   
        return false;
    }
}
	var changeStatus = sbm.util.getValue('comboBox1');

    var supportRemark = sbm.util.getValue('textField7');

    var moduleStatus = $('#moduleDropDown').val();

    var callSubStatus = $('#taggingDropDown').val();

	var callStatusFrmApp = sbm.util.getValue('appType');

	var appTypeOther = document.getElementById('appTypebox').value;

	var mgrid1 = document.forms[0].mgrId.value; 
	/* type your javascript function body here */
	


    sbm.util.setValue('textField18',callStatusFrmApp);

    //sbm.util.setValue('textField63',changeSubStatus);

    sbm.util.setValue('textField19',appTypeOther);

  	if(mgrid1 != null || mgrid1 != ""){

  		sbm.util.setValue('textField42',mgrid1);

  	}

  	var mgrName1 = document.forms[0].mgrName.value;

  	if(mgrName1 != null || mgrName1 != ""){

  		sbm.util.setValue('textField44',mgrName1);

  	}

  	var eMailId1 = document.forms[0].eMailId.value;

  	if(eMailId1 != null || eMailId1 != ""){

  		sbm.util.setValue('textField43',eMailId1);

  	}

	//alert("Escalation Manager Name: "+mgrName1);

	if(callStatusFrmApp == "NA"){

		alert("Please select the support status before Completing the Task.");

		return false;

    } else if (callStatusFrmApp == "Other") {

    	if(appTypeOther.trim().length == 0) {

    		alert("Please provide other status before Completing the Task.");

    		return false;

    	}

    }

       

    if(isExtraStatusEnabled() && callStatusFrmApp != 'Other') {

    if(moduleStatus == 'NA') {

        alert('Please select the module status.');

        return false;

    } else if(moduleStatus == 'Other') {

        if (appTypeOther.trim().length == 0) {

            alert("Please provide other status before Completing the Task.");

            return false;

        }

    } else {

        if(callSubStatus == 'NA') {

            alert("Please provide tagging before Completing the Task.");

            return false;

        } else if(callSubStatus == 'Other') {

            if (appTypeOther.trim().length == 0) {

                alert("Please provide other status before Completing the Task.");

                return false;

            }

        }

    }

}

    

    	if(changeStatus == "Select"){

		alert("Please Change the Status before Completing the Task.");

		return false;

	}else if(changeStatus == "In Progress"){

	       	alert("For Status In Progress, Task can only be Saved");	

		return false;   		

	}else if(changeStatus == "Resolved"){

		if (!confirm('Do  you want to mark the case as Resolved?' )){

   			return false;

   		}
		
	}

	

	if(supportRemark.trim() == "" || supportRemark == null){

  		alert("Please fill the Remark");

  		return false;

  	}

	

	var currUser =  document.forms[0].CurrentPerformer.value;

	sbm.util.setValue('textField17',currUser);

	

	var appType = document.getElementById('appType').value;

	var appTypeOther = document.getElementById('appTypebox').value;

	

	if(appType == 'NA' && changeStatus == "Select"){

		alert('Please select the Call Status !');

		return false;	

	}

	



	

	if(appType == 'Other Issue'){

		sbm.util.setValue('textField18',appType);

		if(appTypeOther == null || appTypeOther == "" || appTypeOther == '<NULL>'){

			alert('Please provide the Issue Type !');

			return false;

		}

		if(appTypeOther != null){

			sbm.util.setValue('textField19',appTypeOther);

		}

		//alert('App Type other:........'+appType);

	}else {

		sbm.util.setValue('textField18',appType);	

	}	

    

    sbm.util.setValue('textField18', appType);

    sbm.util.setValue('textField19', appTypeOther);
    sbm.util.setValue('modulestatus',$('#moduleDropDown').val());
     sbm.util.setValue('modulestatus',document.getElementById('moduleDropDown').value);

    sbm.util.setValue('CallSubStatus',$('#taggingDropDown').val());
     sbm.util.setValue('CallSubStatus',document.getElementById('taggingDropDown').value);

    //sbm.util.setValue('moduleStatusTextField',$('#moduleDropDown').val());

    //sbm.util.setValue('textField63',$('#taggingDropDown').val());
//return false;
}



function showDocsWindow() {

	var ticketNo = sbm.util.getValue('textField1');

	var reopenId = sbm.util.getValue('textField6');

	if(reopenId != null || reopenId != ""){

	//window.open('<%=contextPath%>/bpmportal/common/OperationsAudit/OperationsDocList.jsp?PIID= ' + piid ,'Findings Documents','resizable=yes,width=420,height=550');

	//window.open('<%=contextPath%>/bpmportal/CallDeskReports/ReopenTicketDetails.jsp?ticket=' + ticketNo+'&reopenid='+reopenId,'mywindow','scrollbars=1,width=400,height=320');

	window.open('<%=contextPath%>/bpmportal/CallDeskReports/ReopenTicketDetails.jsp?ticket=' + ticketNo,'mywindow','scrollbars=1,width=400,height=320');

	}

}



function getSystems()

{

        var xmlhttp=new XMLHttpRequest();

        var tabContent = "";

    	xmlhttp.onreadystatechange=function() 

    	{

    	    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) 

    	       {

    		   var val = xmlhttp.responseText.toString().trim();

    		   if(val != '[]')

    		   {

			   val = val.substr(1,val.length-2);

			   var allSystems = val.split(",");

			   tabContent = "<center><div class='header'>SELECT YOUR SYSTEM</div></center><div style='height:200px;width:auto;overflow:auto;margin-top:2px;'><table width='100%'>";

			   for(var i = 0;i < allSystems.length; i++)

			   {

					tabContent += "<tr>";

					tabContent += "<td class='fieldName'><a href='javascript:void(0);' style='color:white;' onClick='getSelectedSystem(this);'>"+allSystems[i]+"</a></td>";

					tabContent += "</tr>";

			   }

			   tabContent += "</tbody></table></div>";

			   document.getElementById('popup').className = '';

			   document.getElementById('popup').innerHTML = '';

			   document.getElementById('report').innerHTML = "";

			   document.getElementById('report').innerHTML = tabContent;

			  // document.getElementById('light').setAttribute("style","width:800px;height:500px;position:absolute;left:10px;");

                   }

                   else

                   {

                       alert('No System Found...');

                       close();

                   }

	       }

    	}

    	var system = document.getElementById('systemName').value;

    	xmlhttp.open("GET","SearchBySystemName.jsp?system="+system, true);

	xmlhttp.send(); 

}



function getSelectedSystem(obj)

{

    var val = document.getElementById('system').value;

    if(val == null || val.trim() == '')

    {

        document.getElementById('system').value = obj.innerHTML;

    }

    else

    {

        document.getElementById('system').value = val+","+obj.innerHTML;

    }

    document.getElementById('light').innerHTML = '';

    resetPopup();

    close();

}



function close()

{

      document.getElementById('light').innerHTML = '';

      resetPopup();

      document.getElementById('light').style.display='none';

      document.getElementById('fade').style.display='none';

}



function resetPopup()

{

    document.getElementById('light').innerHTML = "<div id='popup' class='popup'>"+

        	 					 "<span class='Msg'>Enter System Name<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;"+

        	 					 "<input type='text' class='inp' id='systemName' name='systemName' />"+

        	 					 "<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+

        	  					 "<input type='button' class='button' onClick='getSystems();' value='Get System' />"+

        	  					 "</span>"+

        	 					 "</div>"+

        	 					 "<div id='report'></div>"+

	 					 "<a href='javascript:close();' class='cancel'></a> ";

}



function getSystemSearchPage()

{

    window.scrollTo(0,0);

    document.getElementById('light').style.display='block';

    document.getElementById('fade').style.display='block';

}



var taskPfmrs;



function serviceCall()

{
	alert("Service call");
   taskPfmrs = taskPfmrs.trim();

   var pfmrs = taskPfmrs.substring(1,taskPfmrs.length-1);

   sbm.util.setValue('textField49', sbm.util.getValue('textField1'));

sbm.util.setValue('textField14', pfmrs);

sbm.util.setValue('textField48', sbm.util.getValue('comboBox1'));

sbm.util.setValue('textField54', sbm.util.getValue('textField7'));

sbm.util.setValue('textField45', sbm.util.getValue('textArea1'));

    if (document.getElementById('appTypebox') != null) {

        sbm.util.setValue('textField19', document.getElementById('appTypebox').value);

        sbm.util.setValue('textField53', document.getElementById('appTypebox').value);

    }

//sbm.util.setValue('textField51', 'InProgress...');

sbm.util.setValue('textField55', sbm.util.getValue('textField18'));

   if(sbm.util.getValue('textField7') != null && sbm.util.getValue('comboBox1')!='Select')

   {
       var changeStatus = sbm.util.getValue('comboBox1');

        var appSupportRmk = sbm.util.getValue('textField7');
        var quotationAmount = sbm.util.getValue('textField61');
        var system = document.getElementById('system').value;
        $("#button-save").click();
        pwr.reAssignTask(system,'<%=piID%>',appSupportRmk,changeStatus, quotationAmount, '<%=bizSite.getCurrentUser()%>','<%=request.getRemoteAddr()%>',callbackOutput);

   };

}



function callbackOutput(val)

{

     if(val.trim() == 'ReAssign Successfully!')

     { 

	  savingInfoEnd();   

	  alert('Task Successfully Assigned.');

	  document.getElementById('docSave').click();

	//top.location.href ='../../../bpmportal/myhome/bizsite.task';

     }

     else

     {

         savingInfoEnd();   

         alert(val.trim());

         return false;

     }

}



var savingMsg;

function savingInfoStart()

{

    savingMsg = new Ext.LoadMask(Ext.getBody(), {msg:"Please wait while task is Reassigning.Do not refresh the page."});

    savingMsg.show();    

}



function savingInfoEnd()

{

    savingMsg.hide();

}

function systemOnChange(){
	var systemName = sbm.util.getValue('systemDropDown');
	//alert('systemName: '+systemName);
	document.getElementById("system").style.display='none';
	
	if(!systemName.match('ENTER USER')){
		document.getElementById("system").style.display='none';
		document.getElementById("system").value=systemName;
		document.getElementById("L2SystemName").value=systemName;
	}else{
		document.getElementById("system").value='';
		document.getElementById("system").style.display='block';	
		document.getElementById("L2SystemName").value='';	
	}
	//alert('systemName in textbox: '+document.getElementById("system").value);	
}

 function checkBox2_onClick(eventContext){
{
var tik = document.form.checkBox2_0.checked;

if(tik==false)

{

sbm.util.hide('textArea1');

}

else

{

sbm.util.show('textArea1');

};
}}


 function comboBox1_onChange(eventContext){
{
var obj = document.getElementById('comboBox1');

var val = obj.options[obj.selectedIndex].value;

var teamName = document.getElementById('textField56').value;

var category = document.getElementById('textField2').value;

var subCategory = document.getElementById('textField32').value;





if($('#appType').val() == 'Other'){

document.getElementById('appTypebox').style.display = 'block';

}

//CPS START

if(teamName.substring(0,3) == 'CPS' && val.trim() == 'Resend to L1') {

    if(val.trim() == 'Resend to L1') {

        var xhttp = new XMLHttpRequest();

        xhttp.onreadystatechange = function() {

          if (this.readyState == 4 && this.status == 200) {

            document.getElementById('system').value = this.responseText.trim().split(',')[0];

          }

        };

        xhttp.open("GET", "./getCPSClosurePerformers.jsp?category="+category+"&subCategory="+encodeURIComponent(subCategory), true);

        xhttp.send();

    } 

} else if(teamName.substring(0,3) == 'CPS' && val.trim() == 'Forward to L2') {

        var xhttp = new XMLHttpRequest();

        xhttp.onreadystatechange = function() {

          if (this.readyState == 4 && this.status == 200) {

            document.getElementById('system').value = this.responseText.trim().split(',')[1];

          }

        };

        xhttp.open("GET", "./getCPSClosurePerformers.jsp?category="+category+"&subCategory="+encodeURIComponent(subCategory), true);

        xhttp.send();

    } else if(teamName.substring(0,3) == 'CPS'  && val.trim() == 'Forward to L3') {

        var xhttp = new XMLHttpRequest();

        xhttp.onreadystatechange = function() {

          if (this.readyState == 4 && this.status == 200) {

            document.getElementById('system').value = this.responseText.trim().split(',')[2];

          }

        };

        xhttp.open("GET", "./getCPSClosurePerformers.jsp?category="+category+"&subCategory="+encodeURIComponent(subCategory), true);

        xhttp.send();

    } else {

        document.getElementById('system').value = '';

    }

//CPS END

////////ADMIN

if(teamName.substring(0,12) == 'TECHDESK_ZAM' && val.trim() == 'Resend to L1') {

  pwr.getReassignPerformer(teamName,function(reassignPerformerDetails){

	sbm.util.setValue('textField57',reassignPerformerDetails.l1performer);	

	 document.getElementById('system').value=reassignPerformerDetails.l1performer;

	});

}



if(teamName.substring(0,12) == 'TECHDESK_ZAM' && val.trim() == 'Forward to L2') {

  pwr.getReassignPerformer(teamName,function(reassignPerformerDetails){

	sbm.util.setValue('textField57',reassignPerformerDetails.l2Performer);	

	sbm.util.setValue('textField58',reassignPerformerDetails.l2PerformerEmail);	

	 document.getElementById('system').value=reassignPerformerDetails.l2Performer;

	});

}



if(teamName.substring(0,12) == 'TECHDESK_ZAM' && val.trim() == 'Forward to L3' ){

  pwr.getReassignPerformer(teamName,function(reassignPerformerDetails){

	sbm.util.setValue('textField57',reassignPerformerDetails.l3Performer);	

	sbm.util.setValue('textField59',reassignPerformerDetails.l3PerformerEmail);	

	 document.getElementById('system').value=reassignPerformerDetails.l3Performer;

	});

}



if(teamName.substring(0,12) == 'TECHDESK_ZAM' && val.trim() == 'Forward to L4' ){

  pwr.getReassignPerformer(teamName,function(reassignPerformerDetails){

	sbm.util.setValue('textField57',reassignPerformerDetails.l4Performer);	

	sbm.util.setValue('textField60',reassignPerformerDetails.l4PerformerEmail);	

	 document.getElementById('system').value=reassignPerformerDetails.l4Performer;

	});

}



if(val.trim() == 'Forward to L2' || val.trim() == 'Resend to L1' || val.trim() == 'Forward to L3' || val.trim() == 'Forward to L4')

{

    document.getElementById('pfmrs').style.display = 'block';

    document.getElementById('completeDiv').style.display = 'none';

	document.getElementById('reassignDiv').style.display = 'block';

	document.getElementById('L2SystemName').style.display = val;

	document.getElementById('ForwardToDiv').style.display = 'block';

}

else

{

    document.getElementById('pfmrs').style.display = 'none';

    document.getElementById('completeDiv').style.display = 'block';

    document.getElementById('reassignDiv').style.display = 'none';

	document.getElementById('L2SystemName').style.display = val;

	document.getElementById('ForwardToDiv').style.display = 'none';

};
}}


 function button_save_onClick(eventContext){
{
var changeStatus = sbm.util.getValue('comboBox1');

var appType = document.getElementById('appType').value;

var appTypeOther = document.getElementById('appTypebox').value;

if(appType == 'NA' && changeStatus == "Select"){

	alert('Please select the Call Status !');

	return false;	

}

if(appTypeOther != null)

{

	sbm.util.setValue('textField19',appTypeOther);

}

if(appType == 'Other Issue'){

	sbm.util.setValue('textField18',appType);

	if(appTypeOther == null || appTypeOther == "" || appTypeOther == '<NULL>'){

		alert('Please provide the Issue Type !');

		return false;

	}

}else {

	sbm.util.setValue('textField18',appType);	

}

sbm.util.setValue('textField49', sbm.util.getValue('textField1'));

sbm.util.setValue('textField14', document.forms[0].CurrentPerformer.value);

sbm.util.setValue('textField48', sbm.util.getValue('comboBox1'));

sbm.util.setValue('textField54', sbm.util.getValue('textField7'));

sbm.util.setValue('textField45', sbm.util.getValue('textArea1'));

sbm.util.setValue('textField19', document.getElementById('appTypebox').value);

sbm.util.setValue('textField53', document.getElementById('appTypebox').value);

sbm.util.setValue('textField51', 'InProgress...');

sbm.util.setValue('textField55', sbm.util.getValue('textField18'));

//sbm.util.setValue('isInProgress', true);

if(sbm.util.getValue('textField7') != null && sbm.util.getValue('comboBox1')!='Select')

{  

 // sbm.adaplet.invoke('AppSupport/WebServiceAdapters/WebServiceAdapter_1');

  //Bm.util.invoke('AppSupport/WebServiceAdapters/GenericWebServiceAdapter');



};
}}


 function reAssignSupportTask(eventContext){
var teamName = document.getElementById('textField56').value;

var system = document.getElementById('system').value;

var changeStatus = sbm.util.getValue('comboBox1');     

var appSupportRmk = sbm.util.getValue('textField7');

var appType = document.getElementById('appType').value;

var appTypeOther = document.getElementById('appTypebox');

var adminMember = document.getElementById('textField57').value;

var systemName = document.getElementById('systemDropDown').value;

sbm.util.setValue('isReassigned', true);



if(appType == 'NA' && changeStatus == "Select")

{

	alert('Please select the Call Status !');

	return false;	

}

if (appTypeOther != null) {

	sbm.util.setValue('textField19', appTypeOther.value);

}

if(appType == 'Other Issue')

{

	sbm.util.setValue('textField18',appType);

	if(appTypeOther == null || appTypeOther == "" || appTypeOther == '<NULL>')

	{

		alert('Please provide the Issue Type !');

		return false;

	}

}

else

{

	sbm.util.setValue('textField18',appType);	

}

if(appSupportRmk == null || appSupportRmk.trim() == '')

{

	alert('Please insert Remarks');

	return false;

}

if(teamName.substring(0, 2) == 'ZAM' ){

	system = adminMember;

}

if(systemName != 'NA' && systemName != 'ENTER USER'){

	if (!confirm('Do  you want to Reassign case?' ))

	{

		return false;

	}

	else

	{	

		return true;

	}

}else{

	sbm.util.setValue('L2SystemName', system);

	sbm.util.setValue('isIndividualUser',true);

	if(system.trim() != '' && system.trim() != null)

	{

		if (!confirm('Do  you want to Reassign case?' ))

		{

			return false;

		}

		else

		{

			sbm.util.setValue('L2SystemName', system);

			return true;

		}

	}

	else

	{

		alert('Please Select System to Reassign Task');

		return false;

	}

};
return true;}

-->
</script>
<script language="JavaScript" src="scripts/jquery-3.2.1.min.js"></script>
<script language="JavaScript" src="scripts/select2.min.js"></script>
<!--Initialize extensible widgets.-->
<script language="JavaScript">
<!--
var _dateFormats = {date:'<%=bean.getPropString(PublicResources.JS_CALENDAR_DATE_FORMAT)%>', dateOnly:'<%=bean.getPropString(PublicResources.JS_CALENDAR_DATE_ONLY_FORMAT)%>'};

var allWidgets = [{widget:'textField1', bound:'true', editable:'false', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'TicketNo', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'TicketNo', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField4', bound:'true', editable:'false', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'CallLogDate', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'CallLogDate', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textArea2', bound:'true', editable:'false', type:'sbm.textarea', source: {type:'DATASLOT', dataSlotName:'UserRemark', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'UserRemark', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textArea3', bound:'true', editable:'false', type:'sbm.textarea', source: {type:'DATASLOT', dataSlotName:'FirstApproverRemark', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'FirstApproverRemark', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textArea4', bound:'true', editable:'false', type:'sbm.textarea', source: {type:'DATASLOT', dataSlotName:'SecondApproverRemark', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'SecondApproverRemark', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'comboBox1', bound:'false', editable:'true', type:'sbm.combobox', source: {type:'STATIC'}, target:{type:'DATASLOT', dataSlotName:'AppsupportFinalStatus', dataSlotType:'STRING'}, dsType:'', service:'false'},
{widget:'textField61', bound:'true', editable:'true', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'Quotation', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'Quotation', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField7', bound:'true', editable:'true', type:'sbm.textarea', source: {type:'DATASLOT', dataSlotName:'AppSupportRemark', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'AppSupportRemark', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'checkBox2', bound:'false', editable:'true', type:'sbm.checkbox', source: {type:'STATIC'}, target:{type:'DATASLOT', dataSlotName:'', dataSlotType:''}, dsType:'', service:'false'},
{widget:'textArea1', bound:'true', editable:'true', type:'sbm.textarea', source: {type:'DATASLOT', dataSlotName:'AppSupportPhoneRemark', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'AppSupportPhoneRemark', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField16', bound:'true', editable:'false', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'ApplicationType', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'ApplicationType', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField2', bound:'true', editable:'false', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'IssueRequestId', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'IssueRequestId', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField32', bound:'true', editable:'false', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'IssueReqSubTypeID', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'IssueReqSubTypeID', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField47', bound:'true', editable:'false', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'TicketValue', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'TicketValue', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField64', bound:'true', editable:'false', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'MiscNo', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'MiscNo', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'totalSumInsuredTxtFld', bound:'true', editable:'false', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'TotalSumInsured', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'TotalSumInsured', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'insuredNameTxtFld', bound:'true', editable:'false', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'InsuredName', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'InsuredName', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'occupancyTxtFld', bound:'true', editable:'true', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'Occupancy', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'Occupancy', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'occupancyComboBox', bound:'false', editable:'true', type:'sbm.combobox', source: {type:'SERVICE', serviceURL:'getOccupancy.jsp'}, target:{type:'DATASLOT', dataSlotName:'Occupancy', dataSlotType:'STRING'}, dsType:'', service:'false'},
{widget:'imdCodeTxtFld', bound:'true', editable:'false', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'ImdCodeAndName', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'ImdCodeAndName', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'agenetCodeTxtFld', bound:'true', editable:'false', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'AgentCodeAndName', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'AgentCodeAndName', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField5', bound:'true', editable:'false', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'CallCreatedBy', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'CallCreatedBy', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField11', bound:'true', editable:'false', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'UserEmailID', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'', dataSlotType:''}, dsType:'STRING', service:'false'},
{widget:'textField10', bound:'true', editable:'false', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'UserContactNo', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'UserContactNo', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField9', bound:'true', editable:'false', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'Branch', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'', dataSlotType:''}, dsType:'STRING', service:'false'},
{widget:'textField36', bound:'true', editable:'false', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'ChannelSM', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'ChannelSM', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField3', bound:'true', editable:'false', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'CallType', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'CallType', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField12', bound:'true', editable:'false', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'ApproverName', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'ApproverName', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField46', bound:'true', editable:'false', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'Approver2Name', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'Approver2Name', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField33', bound:'true', editable:'false', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'ApproverEmailID', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'ApproverEmailID', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField38', bound:'true', editable:'false', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'Approver2Email', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'Approver2Email', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField13', bound:'true', editable:'false', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'ApproverDesignation', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'ApproverDesignation', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField37', bound:'true', editable:'false', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'Approver2Dsgn', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'Approver2Dsgn', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField34', bound:'true', editable:'false', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'ExpectedApproval_1_Dt', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'ExpectedApproval_1_Dt', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField35', bound:'true', editable:'false', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'ExpectedApproval_2_Dt', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'ExpectedApproval_2_Dt', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField40', bound:'true', editable:'false', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'ApprovedDateString', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'ApprovedDateString', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField41', bound:'true', editable:'false', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'ApprovedDateString2', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'ApprovedDateString2', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'rcaMembers', bound:'false', editable:'true', type:'sbm.textarea', source: {type:'STATIC'}, target:{type:'DATASLOT', dataSlotName:'', dataSlotType:''}, dsType:'', service:'false'},
{widget:'rcaDetail', bound:'false', editable:'true', type:'sbm.textarea', source: {type:'STATIC'}, target:{type:'DATASLOT', dataSlotName:'', dataSlotType:''}, dsType:'', service:'false'},
{widget:'textField39', bound:'true', editable:'true', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'ApproverUserID2', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'ApproverUserID2', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField8', bound:'true', editable:'false', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'UploadScreen', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'', dataSlotType:''}, dsType:'STRING', service:'false'},
{widget:'textField18', bound:'true', editable:'true', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'CallStatus', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'CallStatus', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField19', bound:'true', editable:'true', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'CallStatusOther', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'CallStatusOther', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField22', bound:'true', editable:'true', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'viewLinkAppsupport1', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'viewLinkAppsupport1', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField26', bound:'true', editable:'true', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'viewLinkApprover1', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'viewLinkApprover1', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField28', bound:'true', editable:'true', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'viewLinkApprover3', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'viewLinkApprover3', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'checkBox1', bound:'true', editable:'false', type:'sbm.checkbox', source: {type:'DATASLOT', dataSlotName:'isWaiting', dataSlotType:'BOOLEAN'}, target:{type:'DATASLOT', dataSlotName:'', dataSlotType:''}, dsType:'BOOLEAN', service:'false'},
{widget:'textField31', bound:'true', editable:'true', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'DocCount', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'DocCount', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField20', bound:'true', editable:'true', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'viewLinkApprover', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'viewLinkApprover', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField24', bound:'true', editable:'true', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'viewLinkAppsupport3', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'viewLinkAppsupport3', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField25', bound:'true', editable:'true', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'viewLinkAppsupport4', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'viewLinkAppsupport4', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField30', bound:'true', editable:'true', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'SupportDocCount', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'SupportDocCount', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField29', bound:'true', editable:'true', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'viewLinkApprover4', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'viewLinkApprover4', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField17', bound:'true', editable:'true', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'AppSupportPerformer', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'AppSupportPerformer', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField21', bound:'true', editable:'true', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'viewLinkAppsupport', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'viewLinkAppsupport', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField23', bound:'true', editable:'true', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'viewLinkAppsupport2', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'viewLinkAppsupport2', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField27', bound:'true', editable:'true', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'viewLinkApprover2', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'viewLinkApprover2', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField6', bound:'true', editable:'false', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'ReopenId', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'', dataSlotType:''}, dsType:'STRING', service:'false'},
{widget:'textField42', bound:'true', editable:'true', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'supportMgrID', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'supportMgrID', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField43', bound:'true', editable:'true', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'supportMgrMail', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'supportMgrMail', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField44', bound:'true', editable:'true', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'supportMgrName', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'supportMgrName', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField56', bound:'true', editable:'true', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'TeamName', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'TeamName', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField57', bound:'true', editable:'true', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'AdminTeamMember', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'AdminTeamMember', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'appSuppGrpTxtfld', bound:'true', editable:'true', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'AppSupportGroupName', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'AppSupportGroupName', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField63', bound:'true', editable:'true', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'CallSubStatus', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'CallSubStatus', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'moduleStatusTextField', bound:'true', editable:'true', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'modulestatus', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'modulestatus', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField62', bound:'true', editable:'true', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'L1ID', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'L1ID', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField58', bound:'true', editable:'true', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'L2ID', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'L2ID', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField59', bound:'true', editable:'true', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'L3ID', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'L3ID', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField60', bound:'true', editable:'true', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'L4ID', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'L4ID', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'isReassigned', bound:'true', editable:'true', type:'sbm.checkbox', source: {type:'DATASLOT', dataSlotName:'isReassigned', dataSlotType:'BOOLEAN'}, target:{type:'DATASLOT', dataSlotName:'isReassigned', dataSlotType:'BOOLEAN'}, dsType:'BOOLEAN', service:'false'},
{widget:'isIndividualUser', bound:'true', editable:'true', type:'sbm.checkbox', source: {type:'DATASLOT', dataSlotName:'isIndividualUser', dataSlotType:'BOOLEAN'}, target:{type:'DATASLOT', dataSlotName:'isIndividualUser', dataSlotType:'BOOLEAN'}, dsType:'BOOLEAN', service:'false'},
{widget:'isInProgress', bound:'true', editable:'true', type:'sbm.checkbox', source: {type:'DATASLOT', dataSlotName:'isInProgress', dataSlotType:'BOOLEAN'}, target:{type:'DATASLOT', dataSlotName:'isInProgress', dataSlotType:'BOOLEAN'}, dsType:'BOOLEAN', service:'false'},
{widget:'L2SystemName', bound:'true', editable:'true', type:'sbm.textfield', source: {type:'DATASLOT', dataSlotName:'L2SystemName', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'L2SystemName', dataSlotType:'STRING'}, dsType:'STRING', service:'false'},
{widget:'textField15', bound:'true', editable:'true', type:'sbm.textarea', source: {type:'DATASLOT', dataSlotName:'ApproverFinalRemark1', dataSlotType:'STRING'}, target:{type:'DATASLOT', dataSlotName:'ApproverFinalRemark1', dataSlotType:'STRING'}, dsType:'STRING', service:'false'}
];
var businessObjects = [];
var formWidgetHandler;

sbm.utils.onDOMReady = function() {
YAHOO.util.Event.onDOMReady(function(){
formWidgetHandler = new FormWidgetHandler(allWidgets,makereadonly,{processName:'TechDesk',processType:'bizlogic',maxMultiLineLength:${maxMultiLineLength},adapletCache:{'user':''}},'<%=request.getParameter(BizSoloRequest.BSS_FIID)%>');
 });
 }
Ext.onReady(function(){
var panel_panel2 = Ext.create('Ext.panel.Panel',{
    id:'panel2_panel',
    renderTo:'panel2',
    contentEl:'panel2_body',
    collapsible:true,
    animCollapse: true,
    autoScroll: true,
    title:sbm.i18n.properties['TechDesk/properties/TechDesk']['AppSupport.panel.panel2.label'],
    width:500, 
    height:200,
     listeners: {
       afterrender: {
          fn: function(comp,eOpts){        
                   comp.doLayout();        
          }        
       }/*,        
      collapse: {
          fn: function(comp,eOpts){        
                   FormWidgetHandler.doLayout();        
          }        
       },        
      expand: {
          fn: function(comp,eOpts){        
                   FormWidgetHandler.doLayout();        
          }        
       }*/        
    }        
 });
var panel_panel1 = Ext.create('Ext.panel.Panel',{
    id:'panel1_panel',
    renderTo:'panel1',
    contentEl:'panel1_body',
    collapsible:true,
    animCollapse: true,
    autoScroll: true,
    title:sbm.i18n.properties['TechDesk/properties/TechDesk']['AppSupport.panel.panel1.label'],
    width:500, 
    height:200,
     listeners: {
       afterrender: {
          fn: function(comp,eOpts){        
                   comp.doLayout();        
          }        
       }/*,        
      collapse: {
          fn: function(comp,eOpts){        
                   FormWidgetHandler.doLayout();        
          }        
       },        
      expand: {
          fn: function(comp,eOpts){        
                   FormWidgetHandler.doLayout();        
          }        
       }*/        
    }        
 });
var panel_panel3 = Ext.create('Ext.panel.Panel',{
    id:'panel3_panel',
    renderTo:'panel3',
    contentEl:'panel3_body',
    collapsible:true,
    animCollapse: true,
    autoScroll: true,
    title:sbm.i18n.properties['TechDesk/properties/TechDesk']['AppSupport.panel.panel3.label'],
    width:500, 
    height:310,
     listeners: {
       afterrender: {
          fn: function(comp,eOpts){        
                   comp.doLayout();        
          }        
       }/*,        
      collapse: {
          fn: function(comp,eOpts){        
                   FormWidgetHandler.doLayout();        
          }        
       },        
      expand: {
          fn: function(comp,eOpts){        
                   FormWidgetHandler.doLayout();        
          }        
       }*/        
    }        
 });
var panel_panel4 = Ext.create('Ext.panel.Panel',{
    id:'panel4_panel',
    renderTo:'panel4',
    contentEl:'panel4_body',
    collapsible:true,
    animCollapse: true,
    autoScroll: true,
    title:sbm.i18n.properties['TechDesk/properties/TechDesk']['AppSupport.panel.panel4.label'],
    width:500, 
    height:200,
     listeners: {
       afterrender: {
          fn: function(comp,eOpts){        
                   comp.doLayout();        
          }        
       }/*,        
      collapse: {
          fn: function(comp,eOpts){        
                   FormWidgetHandler.doLayout();        
          }        
       },        
      expand: {
          fn: function(comp,eOpts){        
                   FormWidgetHandler.doLayout();        
          }        
       }*/        
    }        
 });
 var task = new Ext.util.DelayedTask(function(){
panel_panel2.doLayout();
panel_panel1.doLayout();
panel_panel3.doLayout();
panel_panel4.doLayout();
});
  task.delay(500);
  var viewport = new Bm.util.BmViewport('',{resultComponentXtype:'container'});

});

   
    scrollToErrors = function() {
        var errorsDiv = document.getElementById('errors');
        if(errorsDiv !== null) {
            errorsDiv.scrollIntoView();
        }
    }
    sbm.utils.onFormSubmit = function() {
        if(!formWidgetHandler.validateWidgets()) {
            scrollToErrors();
            return false;
        }
        try{
            if(!userValidationJavascript()) {
                scrollToErrors();
                return false;
            }              
            sbm.utils.handleFormSubmit();
        }catch(e){
            scrollToErrors();
            return false;
        }

                            document.form.action='<%=response.encodeURL("AppSupport.jsp")%>';
         if(allWidgets.length > 0)formWidgetHandler.saveDataSlots();
         return true;
}
-->
</script>

</html>